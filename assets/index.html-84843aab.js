import{_ as n,p as s,q as a,Z as t}from"./framework-fdd38eac.js";const p="/assets/1548135322595-a0b3f6d4.png",e="/assets/1548414625824-230ea9a2.png",o="/assets/1549416041722-1ddc564d.png",c="/assets/1548484575018-fa4b8ade.png",l="/assets/1548563565758-d93519e5.png",i="/assets/1548563880549-20a8dd9d.png",u="/assets/1548564043920-2e9cdd5f.png",r="data:image/png;base64,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",k="data:image/png;base64,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",d="/assets/1548648916606-94f47f03.png",v="/assets/1548648874389-f1df1ad7.png",m="data:image/png;base64,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",b="/assets/1548649267082-43084744.png",g="/assets/1548649341617-f78f9418.png",f="/assets/1548649484585-c3615aa2.png",q="/assets/1548649635386-cb42043b.png",h="/assets/1548649870521-00a76f5f.png",y="/assets/1548649887212-83fd6303.png",x="/assets/1548825498022-d73ea835.png",E="/assets/1548840379935-2b93f2f6.png",j="/assets/1548842518546-a6134de6.png",w="data:image/png;base64,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",A="/assets/1548842445893-5b0bcab1.png",I="/assets/1549597407703-678612c8.png",R="/assets/1549597605054-8af4f7c1.png",S="/assets/1549591952833-68fddc29.png",P="/assets/1549597797790-0bae7c2d.png",F="/assets/1549597750816-8ae780ad.png",B="/assets/1549598124222-b86359c8.png",Q="/assets/1549598063837-91d39fe0.png",T="/assets/1550112969674-b0a54092.png",z="/assets/1550113017080-5e98d989.png",J="/assets/1550113065069-dfb88d8c.png",D="/assets/1550113079480-45906e67.png",O="/assets/1550114162904-4bb6ecb5.png",C="/assets/1550114153372-b4d751e0.png",L="/assets/1550114193347-f501d928.png",Y="/assets/1550114184394-994a4687.png",V="/assets/1550114239320-1dafb6f1.png",N="/assets/1550114229292-fe9e52ad.png",U="/assets/1550114409803-9e23e90d.png",H="/assets/1550114704153-eb611b05.png",G="/assets/1550114685275-26a2744e.png",M="/assets/1550115359182-975e74b1.png",Z="/assets/1550115494949-0aec2097.png",X="/assets/1550115636465-6531e9b3.png",W="/assets/1551240918538-714afce5.png",K="/assets/1548558295520-d252414b.png",_="/assets/1548558373414-646b78b4.png",$="/assets/1548558416478-5951b751.png",nn="/assets/1548558482299-5ec19215.png",sn="/assets/1548558532015-2143d2f3.png",an={},tn=t('<h1 id="node" tabindex="-1"><a class="header-anchor" href="#node" aria-hidden="true">#</a> node</h1><h2 id="node基础概念" tabindex="-1"><a class="header-anchor" href="#node基础概念" aria-hidden="true">#</a> node基础概念</h2><ul><li>什么是node?</li></ul><blockquote><p>基于V8引擎(谷歌浏览器的引擎)渲染JS的工具或者环境 安装node 把JS代码放到node环境中执行</p></blockquote><ul><li>安装node</li></ul><blockquote><p>https://nodejs.org/en/ node安装完成后 当前电脑上自动安装了npm(Node Package Manager): 一个JS模块(所有封装好可以供他人调取使用的都可以称之为模块或者包)管理的工具, 基于npm可以安装下载JS模块 它会生成一个node执行的命令(可以在DOS窗口或者终端命令中执行): node xxx.js 如果不成功, 可以找相同电脑配置的人员, 把安装成功的node文件夹拷贝到自己的电脑上, 通过配置环境变量, 来实现node安装</p></blockquote><ul><li>如何在node中渲染和解析JS</li></ul><blockquote><p>REPL模式(Read-Evaluate-Print-Loop, 输入-求值-输出-循环)</p><p><img src="'+p+`" alt="1548135322595"></p><p>直接基于node来执行JS文件 ​ 1.在命令窗口中执行(DOS窗口 &amp; 终端窗口) ​ 2.WebStorm中的Terminal中也可以执行node命令 ​ 3.直接在WebStorm中执行(右键=&gt; Run xxx.js), 这种方式可能会产生缓存(尤其是文件的目录改动后)</p></blockquote><h2 id="node的一些特点" tabindex="-1"><a class="header-anchor" href="#node的一些特点" aria-hidden="true">#</a> node的一些特点</h2><ul><li>之所以把node作为后台编程语言, 是因为:</li></ul><blockquote><ol><li>我们可以把node安装在服务器上</li><li>我们可以把编写的JS代码放到服务器上, 通过node来执行它(我们可以使用JS来操作服务器, 换句话说, 使用JS来实现服务器端的一些功能操作 =&gt; 其实说node是后台语言, 想要表达的是JS是后台语言&quot;JS是一门全栈编程语言&quot;)</li></ol></blockquote><ul><li>node做后台的优势和特点</li></ul><blockquote><p>传统的后台语言: JAVA/Python/PHP/C#(.NET)...</p><ol><li>单线程的</li><li>基于V8引擎渲染: 快</li><li>异步无阻塞的I/O操作: I/O(INPUT/OUTPUT) 对文件的读写</li><li>event-driven事件驱动, 类似于发布订阅或者回调函数</li></ol></blockquote><ul><li>在WebStorm中开启node内置方法的代码提示</li></ul><blockquote><p>File-&gt; settings -&gt; languages &amp; frameworks -&gt; node.js and npm -&gt; 开启代码提示只要点击&quot;Enable&quot;按钮即可(Disable是取消代码提示)</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token parameter"><span class="token constant">JS</span>运行在客户端浏览器中</span><span class="token operator">=&gt;</span><span class="token string">&quot;前端&quot;</span>
    浏览器给<span class="token constant">JS</span>提供了很多全局的属性和方法<span class="token punctuation">,</span> <span class="token literal-property property">例如</span><span class="token operator">:</span> window<span class="token punctuation">.</span><span class="token function">xxx</span><span class="token punctuation">(</span>setInterval<span class="token punctuation">,</span> setTimeout<span class="token punctuation">,</span> eval<span class="token punctuation">,</span> alert<span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token operator">...</span><span class="token punctuation">)</span>
<span class="token parameter"><span class="token constant">JS</span>运行在服务器端的node中</span><span class="token operator">=&gt;</span><span class="token string">&quot;后台&quot;</span>
    node也给<span class="token constant">JS</span>提供很多的内置属性和方法<span class="token punctuation">,</span> <span class="token literal-property property">例如</span><span class="token operator">:</span> http<span class="token punctuation">,</span> fs<span class="token punctuation">,</span> url<span class="token punctuation">,</span> path<span class="token operator">...</span>等对象中都提供很多<span class="token constant">API</span>供<span class="token constant">JS</span>操作
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>JS在前后端I/O操作的情况</li></ul><blockquote><p>前端(浏览器运行JS)是限制I/O操作的 input type=&#39;file&#39; 这种算是I/O操作, 但是需要用户手动选择(而且还仅仅是一个读取不是写入) node中运行JS时不需要限制I/O操作的</p></blockquote><h2 id="npm的常规应用" tabindex="-1"><a class="header-anchor" href="#npm的常规应用" aria-hidden="true">#</a> npm的常规应用</h2><ul><li>npm的应用</li></ul><blockquote><p>目前&quot;工程化/自动化&quot;开发(不一定是写后台), 都是基于node环境, 基于npm管理模块, 基于WEBPACK实现模块之间的依赖打包, 部署上线等</p></blockquote><ul><li>npm常规操作</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>npm install xxx 把模块安装到当前目录(在哪个目录下执行的命令, 这个目录就是当前目录)下
npm install xxx -g 把模块安装在全局目录下
npm uninstall xxx/ npm uninstall xxx -g
npm install xxx@xxx 安装指定版本号的模块
npm view xxx &gt; xxx.version.txt 查看模块的历史版本信息
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>npm的默认安装源都是在 https://www.npmjs.com/ 网站查找的, 在国内安装, 下载速度较慢, 想要下载速度快一些, 我们可以如下处理:</p><ol><li>使用淘宝镜像</li></ol></blockquote><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>npm install cnpm -g
cnpm install zepto
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>安装nrm切源工具, 基于nrm把源切换到淘宝源上</p></blockquote><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>npm install nrm -g 
nrm ls 查看当前可用的源
nrm use xxx 使用某个源
这样处理完成后, 后期模块的管理依然基于npm即可
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><ol start="2"><li>基于yarn安装, 它也是模块管理器, 类似于npm. 但是安装管理的速度比npm快很多</li></ol></blockquote><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>npm install yarn -g
yarn add xxx
yarn remove xxx

使用yarn只能把模块安装到当前目录下, 不能安装到全局环境下
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><ol start="3"><li>bower也是类似于npm的包管理器, 只不过它是从github下载安装</li></ol></blockquote><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>npm install bower -g

bower install xxx
...
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="npm安装之配置清单和跑环境" tabindex="-1"><a class="header-anchor" href="#npm安装之配置清单和跑环境" aria-hidden="true">#</a> npm安装之配置清单和跑环境</h2><ul><li>在本地项目中基于npm/yarn安装第三方模块</li></ul><blockquote><p>第一步: 在本地项目中创建一个&quot;package.json&quot;的文件 作用: 把当前项目所有依赖的第三方模块信息(包含: 模块名称以及版本号的信息)都记录下来; 可以在这里配置一些可执行的命令脚本等; ​ 基于yarn会默认生成一个&quot;配置清单&quot;, 只是信息没有手动创建的全面 ​ <code>npm init -y</code> 或者 <code>yarn init -y</code> ​ <strong>npm 初始化资料全, 有第三方依赖信息, 而yarn初始化不全, 不要用yarn来初始化.</strong> ​ <strong>创建配置清单的时候, 项目目录中不应该出现中文和特殊符号, 这样有可能识别不了</strong></p></blockquote><p><img src="`+e+`" alt="1548414625824"></p><blockquote><p>第二步: 安装 ​ 开发依赖: 只有在项目开发阶段依赖的第三方模块 ​ 生产依赖: 项目部署实施的时候, 也需要依赖的第三方模块</p></blockquote><pre><code>[npm]
    npm install xxx --save 保存到配置清单的生产依赖中(默认)
                    --save-dev 保存到开发依赖中

[yarn]
    yarn add xxx 默认就是保存到生产依赖中
            --dev / -D 保存到开发依赖中
</code></pre><blockquote><p>第三步: 部署的时候&quot;跑环境&quot; 不要自己一个个的安装, 只需要执行 <code>npm install</code> 或者 <code>yarn install</code> 即可, npm会自己先检测目录中是否有package.json文件, 如果有的话, 会按照文件中的配置清单依次安装 =&gt; 开发一个项目, 我们生成一个配置清单&quot;package.json&quot;, 当我们安装第三方模块使用的时候, 把安装的模块信息记录到配置清单中, 这样以后不管是团队协作开发还是项目部署上线, 我们都没有必要把node_modules发文件发送给别人, 只需要把配置清单传递给其他人即可, 其他人拿到配置清单后, 按照清单汇中依赖项以及版本号, 重新安装即可(重新安装: &quot;<strong>跑环境</strong>&quot;)</p></blockquote><blockquote><p>package.json 版本号前面的^是以什么开头, 就是正则表达式</p></blockquote><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>{
    &quot;name&quot;: &quot;10.nodePROMISE&quot;,   // 模块名称
    &quot;version&quot;: &quot;1.0.0&quot;,         // 版本号
    &quot;description&quot;: &quot;&quot;,          // 模块的描述
    &quot;main&quot;: &quot;index.js&quot;,         // 当前模块的主入口文件
    &quot;dependencies&quot;: {           // 生产依赖
        &quot;zepto&quot;: &quot;^1.2.0&quot;
    },
    &quot;devDependencies&quot;: {        // 开发依赖

    },
    &quot;scripts&quot;: {                // 可执行脚本
        &quot;test&quot;: &quot;echo \\&quot;Error: no test specified\\&quot; &amp;&amp; exit 1&quot;
    },
    &quot;keywords&quot;: [],
    &quot;author&quot;: &quot;&quot;,
    &quot;license&quot;: &quot;ISC&quot;            // 监听模式
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="npm查看全局安装过的包" tabindex="-1"><a class="header-anchor" href="#npm查看全局安装过的包" aria-hidden="true">#</a> npm查看全局安装过的包</h3><p><code>npm list -g --depth 0</code></p><p><img src="`+o+`" alt="1549416041722"></p><h2 id="npm安装之配置可执行命令脚本" tabindex="-1"><a class="header-anchor" href="#npm安装之配置可执行命令脚本" aria-hidden="true">#</a> npm安装之配置可执行命令脚本</h2><ul><li>安装在本地和全局的区别</li></ul><blockquote><p>[安装在全局的特点]</p><ol><li>所有的项目都可以使用这个模块 容易导致版本冲突 安装在全局的模块, 不能基于commonjs模块规范调取使用(也就是不能在JS中通过require调取使用)</li></ol><p>[安装在本地的特点]</p><ol><li>只能当前项目使用这个模块 不能直接的使用命令操作(安装在全局可以使用命令)</li></ol></blockquote><ul><li>为什么安装在全局下可以使用命令</li></ul><blockquote><p><code>npm root / -g</code> 查看本地项目或者全局环境下, npm的安装目录 安装在全局目录下的模块, 但部分都会生成一个xxx.cmd的文件, 只要有这个文件, 那么xxx就是一个可执行的命令(例如: yarn.cmd =&gt; yarn 就是命令) nrm.cmd</p></blockquote><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>@IF EXIST &quot;%~dp0\\node.exe&quot; (
  &quot;%~dp0\\node.exe&quot;  &quot;%~dp0\\node_modules\\nrm\\cli.js&quot; %*
) ELSE (
  @SETLOCAL
  @SET PATHEXT=%PATHEXT:;.JS;=;%
  node  &quot;%~dp0\\node_modules\\nrm\\cli.js&quot; %*
)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>能否既安装在本地, 也可以使用命令操作吗?</li></ul><blockquote><ol><li>把模块安装在本地, 如果是支持命令操作的模块, 会在node_modules的bin中生成xxx.cmd的命令文件, 只不过这个文件无法再全局下执行.</li><li>在package.json的scripts中配置需要执行的命令脚本</li></ol></blockquote><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&quot;scripts&quot;: {
&quot;zyf&quot;: &quot;lessc -v&quot;  属性名自己设置即可, 属性值是需要执行的命令脚本, 根据需要自己编写(可以配置很多命令的)
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><ol start="3"><li><code>npm run zyf</code> / <code>yarn zyf</code> 这样的操作就是把配置的脚本执行 首先到配置清单的scripts中查找 找到把后面对应的属性值(执行脚本)执行 执行脚本的时候, 会到本地node_modules中的bin文件夹查找, 没有的话, 再向npm安装的全局目录下查找.</li></ol></blockquote><p><img src="`+c+`" alt="1548484575018"></p><h2 id="commonjs规范" tabindex="-1"><a class="header-anchor" href="#commonjs规范" aria-hidden="true">#</a> commonjs规范</h2><ul><li>node入门</li></ul><blockquote><p>node本身是基于commonjs模块规范设计的, 所以模块是node的组成 内置模块: node天生提供给JS调取使用的 第三方模块: 别人写好的, 我们可以基于npm安装使用 自定义模块: 自己创建一些模块</p></blockquote><ul><li>commonjs模块化设计的思想(AMD/CMD/ES6 MODULE都是模块设计思想)</li></ul><blockquote><ol><li><p>commonjs规定, 每一个JS都是一个单独的模块(模块是私有的: 里面设计的值和变量以及函数等都是私有的, 和其它的JS文件中的内容是不冲突的)</p></li><li><p>commonjs中可以允许模块中的方法互相的调用</p></li></ol><p>B模块中想要调取A模块中的方法 A导出 B导入</p><p><strong>导出</strong> commonjs给每一个模块(每个JS)中都设置了内置的变量/属性/方法 ​ module: 代表当前这个模块[object] ​ module.exports: 模块的这个&quot;属性&quot;是用来导出当前模块的属性和方法的 [object] ​ exports: 是内置的一个&quot;变量&quot;, 也是用来导出当前模块属性方法的, 虽然和module.exports不是一个东西, 但是对应的值是同一个(module.exports=exports 值都是对象) <strong>导入</strong> require: commonjs提供的内置变量, 用来导入模块的(其实导入的就是module.exports暴露出来的东西) 导入的值也是[object]类型的</p></blockquote><ul><li>module.exports和exports重定向的一些问题</li></ul><blockquote><p>exports = {};</p><p>是无法导出内容的: 默认和module.exports是同一个堆内存, 但是这种操作让exports指向新的堆内存, 而module.exports不受影响</p><p><strong>require导入的是module.exports对应的堆内存, 而不是exports的</strong></p></blockquote><blockquote><p>第一种情况</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// temp1.js文件</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token function-variable function">fn1</span> <span class="token operator">=</span> <span class="token parameter">b</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a <span class="token operator">*</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token function-variable function">fn2</span> <span class="token operator">=</span> <span class="token parameter">b</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a <span class="token operator">-</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token comment">//=&gt; 重定向到自己的堆内存, 用来实现导出</span>
    <span class="token literal-property property">fn1</span><span class="token operator">:</span> fn1
<span class="token punctuation">}</span>
module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span>fn2 <span class="token operator">=</span> fn2<span class="token punctuation">;</span><span class="token comment">//=&gt; 向新的堆内存中加入导出内容</span>
exports<span class="token punctuation">.</span>fn3 <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span><span class="token comment">//=&gt; 无法导出: 此时exports和module.exports已经不是同一个堆内存了</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// temp2.js文件</span>
<span class="token keyword">let</span> temp1 <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./temp1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>temp1<span class="token punctuation">.</span><span class="token function">fn1</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>temp1<span class="token punctuation">.</span><span class="token function">fn2</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>temp1<span class="token punctuation">.</span>fn3<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+l+`" alt="1548563565758"></p><blockquote><p>第二种情况</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// temp1.js文件</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token function-variable function">fn1</span> <span class="token operator">=</span> <span class="token parameter">b</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a <span class="token operator">*</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token function-variable function">fn2</span> <span class="token operator">=</span> <span class="token parameter">b</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a <span class="token operator">-</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">fn1</span><span class="token operator">:</span> fn1
<span class="token punctuation">}</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span>fn2 <span class="token operator">=</span> fn2<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// temp2.js文件</span>
<span class="token keyword">let</span> temp1 <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./temp1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>temp1<span class="token punctuation">.</span><span class="token function">fn1</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>temp1<span class="token punctuation">.</span><span class="token function">fn2</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+i+`" alt="1548563880549"></p><blockquote><p>第三种情况</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// temp1.js文件</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token function-variable function">fn1</span> <span class="token operator">=</span> <span class="token parameter">b</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a <span class="token operator">*</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token function-variable function">fn2</span> <span class="token operator">=</span> <span class="token parameter">b</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a <span class="token operator">-</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">fn1</span><span class="token operator">:</span> fn1
<span class="token punctuation">}</span><span class="token punctuation">;</span>
exports<span class="token punctuation">.</span>fn2 <span class="token operator">=</span> fn2<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// temp2.js文件</span>
<span class="token keyword">let</span> temp1 <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./temp1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>temp1<span class="token punctuation">.</span><span class="token function">fn1</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>temp1<span class="token punctuation">.</span><span class="token function">fn2</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+u+`" alt="1548564043920"></p><ul><li>commonjs特点</li></ul><blockquote><ol><li>所有代码都运行在模块作用域, 不会污染全局作用域(每一个模块都是私有的, 包括里面所有的东西也都是私有的, 不会和其他模块产生干扰)</li></ol></blockquote><blockquote><ol start="2"><li>模块可以多次加载, 但是只会在第一次加载时运行一次, 然后运行结果就被缓存了, 以后再加载, 就直接读取缓存结果. 想要让模块再次运行, 必须清除缓存.</li></ol></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// temp1.js文件.</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token parameter">b</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a <span class="token operator">*</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
exports<span class="token punctuation">.</span>fn <span class="token operator">=</span> fn<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// temp2.js文件</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token parameter">b</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a <span class="token operator">/</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> temp1 <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./temp1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>temp1<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
temp1 <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./temp1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//=&gt; 没有报错, 第二次并没有把TEMP1代码执行, 因为第一次执行把导入的结果缓存了.</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>temp1<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+r+`" alt="1548563414734"></p><blockquote><ol start="3"><li>模块加载的顺序, 按照其在代码汇总出现的顺序. commonjs规范加载模块是同步的, 也就是说, 只有加载完成, 才能执行后面的操作.</li></ol></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// temp1.js文件</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token parameter">b</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a <span class="token operator">*</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

exports<span class="token punctuation">.</span>fn <span class="token operator">=</span> fn<span class="token punctuation">;</span><span class="token comment">// 把当前模块私有的函数放到EXPORTS导出对象中(赋值给他的某一个属性), 这样在其他模块中, 可以基于REQUIRE导入进来使用 &lt;=&gt; module.exports.fn = fn;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// temp2.js文件</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token parameter">b</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a <span class="token operator">/</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> temp1 <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./temp1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//=&gt; ./特意指定是当前目录中的某个模块(.js可以省略) require导入的时候: 首先把TEMP1模块中的JS代码自上而下执行, 把exports对应的堆内存导入进来, 所以接收到的结果是一个对象(require是一个同步操作: 只有把导入的模块代码执行完成, 才可以获取值, 然后继续执行本模块下面的代码)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+k+`" alt="1548563357165"></p><ul><li>commonjs规范和单例模式差不多</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> <span class="token constant">A</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> a <span class="token operator">*</span> b<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">fn</span><span class="token operator">:</span> fn<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> <span class="token constant">B</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">function</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
        <span class="token constant">A</span><span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        init
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token constant">B</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="commonjs练习" tabindex="-1"><a class="header-anchor" href="#commonjs练习" aria-hidden="true">#</a> commonjs练习</h2><ul><li>案例: A/B/C三个模块</li></ul><blockquote><p>A中有sum方法: 实现任意数求和 B中有一个aug方法: 实现任意数求平均(先求和再求平均: B中用到A) C中调取B中的avg, 实现12,23,34,45,56,67,78,89 求平均数</p></blockquote><blockquote><p>自己写的:</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// A.js文件</span>
<span class="token keyword">let</span> <span class="token function-variable function">sum</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">ary</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> ary<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        sum <span class="token operator">+=</span> ary<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> sum<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">sum</span><span class="token operator">:</span> sum
<span class="token punctuation">}</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// B.js文件</span>
<span class="token keyword">let</span> <span class="token constant">A</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./A&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token function-variable function">avg</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> ary <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 把类数组转为数组</span>
    <span class="token keyword">let</span> avg <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    avg <span class="token operator">=</span> <span class="token constant">A</span><span class="token punctuation">.</span><span class="token function">sum</span><span class="token punctuation">(</span>ary<span class="token punctuation">)</span> <span class="token operator">/</span> ary<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token keyword">return</span> avg<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">avg</span><span class="token operator">:</span> avg
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// C.js文件</span>
<span class="token keyword">let</span> <span class="token constant">B</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./B&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">B</span><span class="token punctuation">.</span><span class="token function">avg</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">23</span><span class="token punctuation">,</span><span class="token number">34</span><span class="token punctuation">,</span><span class="token number">45</span><span class="token punctuation">,</span><span class="token number">56</span><span class="token punctuation">,</span><span class="token number">67</span><span class="token punctuation">,</span><span class="token number">78</span><span class="token punctuation">,</span><span class="token number">89</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>老师写的:</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// A.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>arg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">// 剩余运算符 会把传过来的值变成一个数组. 如果传过来的也是一个数组, 会把数组外面再套一层数组</span>
        <span class="token comment">// console.log(arg)//=&gt; [ [ 12, 23, 34, 45, 56, 67, 78, 89 ] ]</span>
        <span class="token keyword">return</span> <span class="token function">eval</span><span class="token punctuation">(</span>arg<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&#39;+&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// B.js</span>
<span class="token keyword">let</span> <span class="token constant">A</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./A&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function">avg</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>arg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">// 剩余运算符, 会把传的值变成一个数组</span>
        <span class="token comment">// console.log(arg)//=&gt; [ 12, 23, 34, 45, 56, 67, 78, 89 ] </span>
        <span class="token comment">// console.log(...arg)//=&gt; 12 23 34 45 56 67 78 89 展开运算符</span>
        <span class="token keyword">return</span> <span class="token constant">A</span><span class="token punctuation">.</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token operator">...</span>arg<span class="token punctuation">)</span> <span class="token operator">/</span> arg<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// C.js</span>
<span class="token keyword">let</span> <span class="token constant">B</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./B&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">B</span><span class="token punctuation">.</span><span class="token function">avg</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">23</span><span class="token punctuation">,</span><span class="token number">34</span><span class="token punctuation">,</span><span class="token number">45</span><span class="token punctuation">,</span><span class="token number">56</span><span class="token punctuation">,</span><span class="token number">67</span><span class="token punctuation">,</span><span class="token number">78</span><span class="token punctuation">,</span><span class="token number">89</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>require导入规则</li></ul><blockquote><p><code>require(&#39;./xxx&#39;)</code>或者<code>../xxx </code>再或者 <code>/xxx</code>, 这种都是为了导入自定义的模块, 换句话说, 想要导入自定义的模块, 必须加路径 <code>require(&#39;xxx&#39;)</code>, 导入第三方或者内置的 首先到当前项目的node_modules中查找是否存在这个模块, 不存在找node提供的内置模块</p></blockquote><blockquote><p><code>_dirname</code>: 模块中这个内置变量是当前模块所在的绝对路径(具体到盘符: 物理路径 例如: E:\\201802LESSON\\WEEK9\\0609DAY1; 相对路径: WEEK9\\0609DAY1 相对于根目录的路径 相对于根目录的路径) <code>_filename</code>: 相对于 _dirname来讲, 多了模块名称, 例如: E:\\201802LESSON\\WEEK9\\0609DAY1\\C.js</p></blockquote><h2 id="fs内置模块以及promise文件操作库的封装" tabindex="-1"><a class="header-anchor" href="#fs内置模块以及promise文件操作库的封装" aria-hidden="true">#</a> FS内置模块以及PROMISE文件操作库的封装</h2><ul><li>node中的内置模块</li></ul><blockquote><p>http://nodejs.cn/api/</p></blockquote><h3 id="fs内置模块-实现i-o操作" tabindex="-1"><a class="header-anchor" href="#fs内置模块-实现i-o操作" aria-hidden="true">#</a> fs内置模块: 实现I/O操作</h3><blockquote><p><code>let fs = require(&#39;fs&#39;)</code></p><ol><li><code>fs.mkdir</code> / <code>fs.mkdirSync</code>: 创建文件夹, 有Sync的是同步创建, 反之没有是异步, 想要实现无阻塞的I/O操作, 我们都是用异步操作完成要处理的事情</li></ol></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;fs&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
fs<span class="token punctuation">.</span><span class="token function">mkdir</span><span class="token punctuation">(</span><span class="token string">&#39;./less&#39;</span><span class="token punctuation">,</span> <span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;ok&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+d+`" alt="1548648916606"></p><blockquote><ol start="2"><li><code>fs.readdir</code> / fs.readdirSync: 读取文件目录中的内容</li></ol></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;fs&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
fs<span class="token punctuation">.</span><span class="token function">readdir</span><span class="token punctuation">(</span><span class="token string">&#39;./css&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> result</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//=&gt; 返回的结果是一个数组</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+v+'" alt="1548648874389"></p><p><img src="'+m+`" alt="1548648842773"></p><blockquote><ol start="3"><li><code>fs.rmdir</code>: 删除文件夹</li></ol></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;fs&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
fs<span class="token punctuation">.</span><span class="token function">rmdir</span><span class="token punctuation">(</span><span class="token string">&#39;./less&#39;</span><span class="token punctuation">,</span> <span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token comment">//=&gt; 删除文件夹必须保证文件夹是空的</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;ok&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 删除了less文件夹</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><ol start="4"><li><code>fs.readFile</code>: 读取文件中的内容</li></ol></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">&#39;./less/1.less&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;utf8&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> result</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">//=&gt; 不设置UTF-8编码格式, 读取出来的是BUFFER格式的数据, 设置后读取到的是字符串格式的数据</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+b+`" alt="1548649267082"></p><blockquote><p>不设置UTF-8编码格式</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">&#39;./less/1.less&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> result</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+g+`" alt="1548649341617"></p><blockquote><ol start="5"><li><code>fs.writeFile</code>: 向文件中写入内容(覆盖写入: 写入的新内容会替换原有的内容)</li></ol><p>把原来文档中的内容替换<code>fs.writeFile</code></p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>fs<span class="token punctuation">.</span><span class="token function">writeFile</span><span class="token punctuation">(</span><span class="token string">&#39;./less/1.less&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;哈哈&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;utf8&#39;</span><span class="token punctuation">,</span> <span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;ok&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+f+`" alt="1548649484585"></p><blockquote><ol start="6"><li><code>fs.appendFile</code>: 追加写入新内容, 原有的内容还在</li></ol><p>把原来的文档后面追加内容<code>fs.appendFile()</code></p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>fs<span class="token punctuation">.</span><span class="token function">appendFile</span><span class="token punctuation">(</span><span class="token string">&#39;./less/1.less&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;呵呵&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;utf8&#39;</span><span class="token punctuation">,</span> <span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;ok&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+q+`" alt="1548649635386"></p><blockquote><ol start="7"><li><code>fs.copyFile</code>: 拷贝文件到新的位置</li></ol><p>拷贝文件及文件中的内容</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>fs<span class="token punctuation">.</span><span class="token function">copyFile</span><span class="token punctuation">(</span><span class="token string">&#39;./package.json&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;./less/111.json&#39;</span><span class="token punctuation">,</span> <span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;ok&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+h+'" alt="1548649870521"></p><p><img src="'+y+`" alt="1548649887212"></p><blockquote><ol start="8"><li><code>fs.unlink</code>: 删除文件 删除具体的文件</li></ol></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>fs<span class="token punctuation">.</span><span class="token function">unlink</span><span class="token punctuation">(</span><span class="token string">&#39;./less/1.less&#39;</span><span class="token punctuation">,</span> <span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;ok&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="path模块" tabindex="-1"><a class="header-anchor" href="#path模块" aria-hidden="true">#</a> path模块</h3><blockquote><p>path.resolve()方法</p><p>不传参: 返回当前模块的绝对地址(不包含模块名称)</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//=&gt; 返回当前模块的绝对地址(不包含模块名称): c:\\Users\\99344\\Desktop\\zhufeng\\10.NODEPROMISE &lt;=&gt; __dirname.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>传参: 可以把一个相对路径拼接在绝对路径的后面(第一个参数是绝对路径, 第二个是相对路径, 如果都是绝对路径, 以最后一个为主</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>__dirname<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/css</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>__dirname<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/less</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//=&gt; c:\\Users\\99344\\Desktop\\zhufeng\\10.NODEPROMISE\\less</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;less/tt&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//=&gt; c:\\Users\\99344\\Desktop\\zhufeng\\10.NODEPROMISE\\less\\tt 可以把一个相对路径拼接在绝对路径的后面(第一个参数是绝对路径, 第二个是相对路径, 如果都是绝对路径, 以最后一个为主)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>__dirname和path.resolve()区别</li></ul><blockquote><p><strong>__dirname: 当前模块所在的绝对路径(和模块中的方法在哪执行是没有关系的)</strong><strong>path.resolve(): 当前模块中方法在哪个模块中执行的, 那么对应的绝对路径是执行模块的绝对路径</strong></p></blockquote><h3 id="promise文件操作库的封装" tabindex="-1"><a class="header-anchor" href="#promise文件操作库的封装" aria-hidden="true">#</a> Promise文件操作库的封装</h3><blockquote><p>fsPromise.js文件</p><p>封装原理:</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;fs&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> <span class="token function-variable function">readFile</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">pathName</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//=&gt; 一般都会把传递的PATH-NAME进行处理: 以当前项目的根目录为依托, 我们只需要传递相对于根目录的相对目录地址, 程序自动生成一个绝对目录地址</span>
    <span class="token comment">/* 
        __dirname: 当前模块所在的绝对路径(和模块中的方法在哪执行是没有关系的)
        path.resolve(): 当前模块中方法在哪个模块中执行的, 那么对应的绝对路径是执行模块的绝对路径
    */</span>
    pathName <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> pathName<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span>pathName<span class="token punctuation">,</span> <span class="token string">&#39;UTF-8&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> result</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">reject</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token function">resolve</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    readFile
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>fsTest.js文件</p><p>使用模块:</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token punctuation">{</span> readFile <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./utils/fsPromise&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">&#39;less/2.css&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+x+`" alt="1548825498022"></p><ul><li>Promise文件操作库的封装</li></ul><blockquote><p><strong>封装了常用的8个方法</strong></p></blockquote><blockquote><p>根据每个方法的参数, 有无返回值, 返回值的个数进行封装</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;fs&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//=&gt; 存储的是当前模块执行所在的绝对路径(!==__dirname)</span>
<span class="token keyword">let</span> dirname <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//=&gt; MKDIR &amp;&amp; RMDIR &amp;&amp; READ-DIR &amp;&amp; READ-FILE &amp;&amp; COPY-FILE</span>
<span class="token punctuation">[</span><span class="token string">&#39;mkdir&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;rmdir&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;readdir&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;readFile&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;copyFile&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;unlink&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    exports<span class="token punctuation">[</span>item<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>pathname<span class="token punctuation">,</span> copypath <span class="token operator">=</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        pathname <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>dirname<span class="token punctuation">,</span> pathname<span class="token punctuation">)</span><span class="token punctuation">;</span>
        copypath <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>dirname<span class="token punctuation">,</span> copypath<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> arg <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> result</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token function">reject</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">return</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token function">resolve</span><span class="token punctuation">(</span>result <span class="token operator">||</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            item <span class="token operator">===</span> <span class="token string">&#39;readFile&#39;</span> <span class="token operator">?</span> arg<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span><span class="token string">&#39;utf8&#39;</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
            item <span class="token operator">===</span> <span class="token string">&#39;copyFile&#39;</span> <span class="token operator">?</span> arg<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span>copypath<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
            fs<span class="token punctuation">[</span>item<span class="token punctuation">]</span><span class="token punctuation">(</span>pathname<span class="token punctuation">,</span> <span class="token operator">...</span>arg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">//=&gt; WRITE &amp;&amp; APPEND</span>
<span class="token punctuation">[</span><span class="token string">&#39;writeFile&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;appendFile&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    exports<span class="token punctuation">[</span>item<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">pathname<span class="token punctuation">,</span> content</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        pathname <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>dirname<span class="token punctuation">,</span> pathname<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> content <span class="token operator">!==</span> <span class="token string">&#39;string&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">//=&gt; 写入的内容我们规定必须是字符串才可以</span>
            content <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            fs<span class="token punctuation">[</span>item<span class="token punctuation">]</span><span class="token punctuation">(</span>pathname<span class="token punctuation">,</span> content<span class="token punctuation">,</span> <span class="token string">&#39;utf8&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> result</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token function">reject</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">return</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token function">resolve</span><span class="token punctuation">(</span>result <span class="token operator">||</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>使用模块:</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token punctuation">{</span> readFile <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./utils/fsPromise&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">&#39;less/1.css&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+E+`" alt="1548840379935"></p><h2 id="使用fs搞点小玩意" tabindex="-1"><a class="header-anchor" href="#使用fs搞点小玩意" aria-hidden="true">#</a> 使用FS搞点小玩意</h2><h3 id="合并css并且压缩" tabindex="-1"><a class="header-anchor" href="#合并css并且压缩" aria-hidden="true">#</a> 合并CSS并且压缩</h3><blockquote><p>使用Promise封装好的FS内置模块,在上面有写到.</p><p>fsTest.js文件</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token punctuation">{</span> readFile<span class="token punctuation">,</span> readdir<span class="token punctuation">,</span> writeFile <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./utils/fsPromise&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 1. 先把所有的CSS文件读取出来</span>
<span class="token function">readdir</span><span class="token punctuation">(</span><span class="token string">&#39;less&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> result<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.CSS$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> arg <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    result<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        arg<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">less/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>item<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//=&gt; 分别调取READ-FILE方法, 读取捕捉到的CSS文件, 向数组中一次增加读取各个文件的PROMISE实例</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//arg=[promise1,promise2...]; </span>
    <span class="token comment">// Promise.all():等待数组中所有的PROMISE实例都执行成功才算成功</span>
    <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>arg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">//=&gt; RESULT: 一个数组, 存放所有文件读取的内容</span>
    result <span class="token operator">=</span> result<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> result<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">( |\\n|\\r)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">writeFile</span><span class="token punctuation">(</span><span class="token string">&#39;less/build.min.css&#39;</span><span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;创建成功&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>1.css文件</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>body <span class="token punctuation">{</span>
    <span class="token literal-property property">background</span><span class="token operator">:</span> #<span class="token constant">FFF</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>2.css文件</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">.</span>box <span class="token punctuation">{</span>
    <span class="token literal-property property">background</span><span class="token operator">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+j+'" alt="1548842518546"></p><p><img src="'+w+'" alt="1548842430241"></p><p><img src="'+A+'" alt="1548842445893"></p><h3 id="使用less批量化编译为css并且压缩" tabindex="-1"><a class="header-anchor" href="#使用less批量化编译为css并且压缩" aria-hidden="true">#</a> 使用less批量化编译为css并且压缩</h3><p><img src="'+I+`" alt="1549597407703"></p><blockquote><p>less.config.js文件 less批量编译配置文件</p><p>entry是需要编译的文件, 都写在一起, 可以一次性编译多个文件.</p><p>output是对应的编译后的文件存放位置.</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">//=&gt; 需要把config放到当前项目的根目录中</span>
<span class="token keyword">let</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    rootPath <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">//=&gt; 需要编译的LESS文件</span>
    <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>rootPath<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/less/index.less</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span>
        <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>rootPath<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/less/detail.less</span><span class="token template-punctuation string">\`</span></span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>rootPath<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/css/index.min.css</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span>
        <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>rootPath<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/css/detail.min.css</span><span class="token template-punctuation string">\`</span></span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>index.js文件</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    lessc <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;less&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    rootPath <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token punctuation">{</span> readFile<span class="token punctuation">,</span> writeFile <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">./utils/fsPromise</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> entry<span class="token punctuation">,</span> output <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">./less.config</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//=&gt; 分别读取ENTRY中对应的LESS文件中的代码</span>
entry<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">readFile</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">//=&gt; 把读取的LESS代码进行编译: 编译为CSS</span>
        lessc<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>result<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">compress</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> result</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
            <span class="token keyword">let</span> <span class="token punctuation">{</span> css <span class="token punctuation">}</span> <span class="token operator">=</span> result<span class="token punctuation">;</span>
            <span class="token function">writeFile</span><span class="token punctuation">(</span>output<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">,</span> css<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>detail.less文件</p></blockquote><div class="language-less line-numbers-mode" data-ext="less"><pre class="language-less"><code><span class="token variable">@co<span class="token punctuation">:</span></span> green<span class="token punctuation">;</span>
<span class="token selector">.index</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token variable">@co</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>index.less文件</p></blockquote><div class="language-less line-numbers-mode" data-ext="less"><pre class="language-less"><code><span class="token variable">@co<span class="token punctuation">:</span></span> red<span class="token punctuation">;</span>
<span class="token selector">.index</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token variable">@co</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><strong>编译执行index.js文件后</strong></p></blockquote><p><img src="`+R+`" alt="1549597605054"></p><blockquote><p>index.min.css文件</p></blockquote><div class="language-css line-numbers-mode" data-ext="css"><pre class="language-css"><code><span class="token selector">.index</span><span class="token punctuation">{</span><span class="token property">color</span><span class="token punctuation">:</span>red<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>detail.min.css文件</p></blockquote><div class="language-less line-numbers-mode" data-ext="less"><pre class="language-less"><code><span class="token selector">.index</span><span class="token punctuation">{</span><span class="token property">color</span><span class="token punctuation">:</span>green<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="使用npm上传less-zyf" tabindex="-1"><a class="header-anchor" href="#使用npm上传less-zyf" aria-hidden="true">#</a> 使用npm上传less_zyf</h3><blockquote><p>现在npm注册一个账号<code>npmjs.com</code>网站</p><p><code>npm addUser</code>登录 用户名,密码, 邮箱</p><p><strong>要换源为npm的源, 淘宝镜像的源是不行的, 要发布到npm上</strong></p><p><code>nrm ls</code>再<code>nrm use npm</code></p><p><strong>要注意路径不能有中文, 文件名字不能有大写</strong></p><p>登录之后</p><p><code>npm publish</code>发布项目到npm</p></blockquote><p><img src="`+S+'" alt="1549591952833"></p><blockquote><p>npm上传整个文件夹</p><p>在package.json文件中把name改为less_zyf防止重名.</p><p>backup文件夹是备份的意思</p></blockquote><p><img src="'+P+`" alt="1549597797790"></p><blockquote><p>package.json文件</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token string-property property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;less_zyf&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;index.js&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;echo \\&quot;Error: no test specified\\&quot; &amp;&amp; exit 1&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;keywords&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ISC&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;less&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.9.0&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>index.js文件</p><p>需要把执行的内容放到一个对外的方法中, 放到exports对象中, 执行这个方法就表示模块执行了</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    lessc <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;less&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    rootPath <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token punctuation">{</span> readFile<span class="token punctuation">,</span> writeFile <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">./utils/fsPromise</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> entry<span class="token punctuation">,</span> output <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">./less.config</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//=&gt; 分别读取ENTRY中对应的LESS文件中的代码</span>
        entry<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">readFile</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token comment">//=&gt; 把读取的LESS代码进行编译: 编译为CSS</span>
                lessc<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>result<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">compress</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> result</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
                    <span class="token keyword">let</span> <span class="token punctuation">{</span> css <span class="token punctuation">}</span> <span class="token operator">=</span> result<span class="token punctuation">;</span>
                    <span class="token function">writeFile</span><span class="token punctuation">(</span>output<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">,</span> css<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="npm下载使用less-zyf" tabindex="-1"><a class="header-anchor" href="#npm下载使用less-zyf" aria-hidden="true">#</a> npm下载使用less_zyf</h3><p><img src="`+F+'" alt="1549597750816"></p><blockquote><p>node_modules文件夹下</p></blockquote><p><img src="'+B+'" alt="1549598124222"></p><blockquote><p>整个文件夹下</p></blockquote><p><img src="'+Q+`" alt="1549598063837"></p><blockquote><p><strong>less_zyf模块的使用</strong></p><p>lessAll.js文件</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> lessc <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;less_zyf&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
lessc<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="内置模块http" tabindex="-1"><a class="header-anchor" href="#内置模块http" aria-hidden="true">#</a> 内置模块HTTP</h2><blockquote><p>URL内置模块 <code>url.parse(url[,flag])</code>: 把一个URL地址进行解析, 把地址中的每一部分按照对象键值对的方式存储起来</p></blockquote><blockquote><p>HTTP内置模块</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> server <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">creatServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//=&gt;创建WEB服务</span>
server<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//=&gt;监听端口</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>注意: 基于node创建后台程序, 我们一般都创建一个server模块, 在模块中实现创建WEB服务, 和对于请求的处理(并且我们一般都会把server模块放到当前项目的根目录下)</p><p>初始化之后需要改package.json文件</p><p>&quot;main&quot;主入口修改</p><p>&quot;scripts&quot;添加一个命令, <code>npm run server</code>/<code>yarn server</code>使用</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token string-property property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;17HTTPmodules&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;server.js&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;server&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node server.js&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;keywords&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ISC&quot;</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>server.js文件</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;http&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    url <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;url&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;fs&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//=&gt; 创建WEB服务</span>
<span class="token keyword">let</span> port <span class="token operator">=</span> <span class="token number">8686</span><span class="token punctuation">;</span>
<span class="token comment">/* let server = http.createServer();
server.listen(); */</span>
http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">//=&gt; 当服务创建成功, 并且客户端向当前服务器发送了请求, 才会执行回调函数, 并且发送一次请求, 回调函数就会被触发执行一次</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">hello world!</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span>port<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">//=&gt; 当服务创建成功, 并且端口号已经监听成功后, 触发的回调函数</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">server is success, listen on </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>port<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">/*
    错误分析
        listen EACCES 0.0.0.0:80
        这种错误都是因为端口号被占用了, 我们需要重新修改端口号

        当服务创建成功, 命令行中会一直存在光标闪烁, 证明服务器正在运行运行(一定要保证服务是运行的), 按CTRL+C可以结束正在运行的服务

    客户端如何向创建的服务器发送请求
        对应好协议, 域名, 端口等信息, 在浏览器中或者AJAX中发送请求即可
        http://loaclhost:8686/... 服务在当前电脑上, localhost本机域名, 也就是本机的客户端浏览器, 访问本机的服务器端程序
        http://IP:8686/...(http://192.168.3.11:8686/...) IP做域名访问, 如果是内网IP, 相同局域网下的用户可以访问这个服务, 如果是外网IP, 所有能联网的基本上都可以访问这个服务(局域网下访问, 需要互相关掉防火墙)
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>localhost方式访问</p></blockquote><p><img src="`+T+'" alt="1550112969674"></p><p><img src="'+z+'" alt="1550113017080"></p><blockquote><p>内网IP访问(手机也能访问成功)</p></blockquote><p><img src="'+J+'" alt="1550113065069"></p><p><img src="'+D+`" alt="1550113079480"></p><h2 id="请求对象req和响应对象res" tabindex="-1"><a class="header-anchor" href="#请求对象req和响应对象res" aria-hidden="true">#</a> 请求对象REQ和响应对象RES</h2><ul><li>REQ</li></ul><blockquote><p>REQ: REQUEST 请求对象, 包含了客户端请求的信息</p><p>req.url 存储的是请求资源的路径地址及问号传参 例如: /stu/index.html?name=xxx&amp;age=12 GET</p><p>req.method 客户端请求的方式 例如: GET</p><p>req.headers 客户端的请求头对象, 它是一个对象</p><p>...</p></blockquote><blockquote><p><code>let { url, method, headers } = req;</code></p><p><code>console.log(url, method, headers);</code></p><p>把请求的URL地址中: 路径名称 &amp; 问号传参 分别解析出来</p><p><code>let {pathname, query} = url.parse(req.url, true);</code></p><p><code>console.log(pathname, query);</code></p></blockquote><ul><li>RES</li></ul><blockquote><p>RES: RESPONSE 响应对象, 包含了一些属性和方法, 可以让服务器端返回给客户端内容</p><p><code>res.write</code> 基于这个方法, 服务器端可以向客户端返回内容</p><p><code>res.end</code> 结束响应</p><p><code>res.writeHead</code> 重写响应头信息</p><p>...</p></blockquote><blockquote><p><code>res.write(&#39;hello world!&#39;);</code>可以不用写, 直接写在res.end中</p><p>res.end(&#39;hello world!&#39;);//=&gt; 服务器端返回给客户端的内容一般都是 STRING 或者BUFFER格式的数据</p><p>res.writeHead(200, {</p><p>​ &#39;content-type&#39;: &#39;text/plain;charset=utf-8;&#39;</p><p>})</p><p><code>res.end(JSON.stringify({ name: &#39;哈哈&#39; }));</code></p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;http&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    url <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;url&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;fs&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//=&gt; 创建WEB服务</span>
<span class="token keyword">let</span> port <span class="token operator">=</span> <span class="token number">8686</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token function-variable function">handle</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">handle</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//=&gt; REQ: REQUEST 请求对象, 包含了客户端请求的信息</span>
    <span class="token comment">// req.url 存储的是请求资源的路径地址及问号传参  例如: /stu/index.html?name=xxx&amp;age=12 GET</span>
    <span class="token comment">// req.method 客户端请求的方式 例如: GET</span>
    <span class="token comment">// req.headers 客户端的请求头对象, 它是一个对象</span>
    <span class="token comment">// ...</span>
    <span class="token comment">/* let { url, method, headers } = req;
    console.log(url, method, headers); */</span>
    <span class="token comment">//=&gt; 把请求的URL地址中: 路径名称 &amp; 问号传参 分别解析出来</span>
    <span class="token comment">/* let {pathname, query} = url.parse(req.url, true);
    console.log(pathname, query); */</span>

    <span class="token comment">//=&gt; RES: RESPONSE 响应对象, 包含了一些属性和方法, 可以让服务器端返回给客户端内容</span>
    <span class="token comment">// res.write 基于这个方法, 服务器端可以向客户端返回内容</span>
    <span class="token comment">// res.end 结束响应</span>
    <span class="token comment">// res.writeHead 重写响应头信息</span>
    <span class="token comment">// ...</span>
    <span class="token comment">/* res.write(&#39;hello world!&#39;); */</span>
    <span class="token comment">// res.end(&#39;hello world!&#39;);//=&gt; 服务器端返回给客户端的内容一般都是 STRING 或者BUFFER格式的数据</span>
    res<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&#39;content-type&#39;</span><span class="token operator">:</span> <span class="token string">&#39;text/plain;charset=utf-8;&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;哈哈&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">;</span>
http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span>handle<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span>port<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">server is success, listen on </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>port<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+O+'" alt="1550114162904"></p><p><img src="'+C+'" alt="1550114153372"></p><p><img src="'+L+'" alt="1550114193347"></p><p><img src="'+Y+'" alt="1550114184394"></p><p><img src="'+V+'" alt="1550114239320"></p><p><img src="'+N+'" alt="1550114229292"></p><blockquote><p>加了输出headers</p></blockquote><p><img src="'+U+'" alt="1550114409803"></p><p><img src="'+H+'" alt="1550114704153"></p><p><img src="'+G+'" alt="1550114685275"></p><blockquote><p>服务器端返回必须是字符串格式, 如果是对象必须转换成字符串格式</p><p><code>res.end(JSON.stringify({name: &#39;xxx&#39;}));</code></p></blockquote><p><img src="'+M+'" alt="1550115359182"></p><blockquote><p>字符串是中文的话, 会乱码, 需要设置状态码</p></blockquote><p><img src="'+Z+`" alt="1550115494949"></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>res<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&#39;content-type&#39;</span><span class="token operator">:</span> <span class="token string">&#39;text/plain;charset=utf-8;&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;哈哈&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+X+'" alt="1550115636465"></p><h2 id="创建静态资源服务器" tabindex="-1"><a class="header-anchor" href="#创建静态资源服务器" aria-hidden="true">#</a> 创建静态资源服务器</h2><blockquote><p>服务器上可能有一堆项目代码, 这堆项目代码中既可能有服务器端的程序代码, 也有可能有客户端的项目代码, 而客户端程序代码我们一般都放到static这个文件夹中</p><p>static 都是服务器端需要返回给客户端, 由客户端浏览器渲染和解析的(前端项目:包括页面,css,js,图片等) server.js 都是需要在服务器端基于node执行的(后端项目: 一般只有JS)</p><p>我们创建的WEB服务需要处理两类请求: 1. 静态资源文件的请求处理: 想要文件 2. API接口的请求处理: 想要数据 区别: 第一类请求的地址中有后缀名, 第二类没有后缀</p></blockquote><p><img src="'+W+`" alt="1551240918538"></p><blockquote><p>server.js文件</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;http&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    url <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;url&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;fs&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token punctuation">{</span> readFile <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./utils/fsPromise&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    mime <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;mime&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//=&gt; 创建WEB服务</span>
<span class="token keyword">let</span> port <span class="token operator">=</span> <span class="token number">8686</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token function-variable function">handle</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">handle</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//=&gt; 客户端请求资源文件(PATH-NAME), 服务器端都是到STATIC文件夹中进行读取, 也是根据客户端请求的路径名称读取的, 服务器端基于FS读取文件中内容的时候, 直接加上&quot;./static&quot;即可</span>
    <span class="token keyword">let</span> <span class="token punctuation">{</span> method<span class="token punctuation">,</span> <span class="token literal-property property">headers</span><span class="token operator">:</span> requestHeaders <span class="token punctuation">}</span> <span class="token operator">=</span> req<span class="token punctuation">,</span>
        <span class="token punctuation">{</span> pathname<span class="token punctuation">,</span> query <span class="token punctuation">}</span> <span class="token operator">=</span> url<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>url<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        pathREG <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.([a-z0-9]+)$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">;</span>

    <span class="token comment">//=&gt; 静态资源文件处理</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>pathREG<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>pathname<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">readFile</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">./static</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>pathname<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token comment">//=&gt;读取成功: 根据请求资源文件的类型, 设置响应内容的MIME</span>
            <span class="token keyword">let</span> suffix <span class="token operator">=</span> pathREG<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>pathname<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            res<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
                <span class="token string-property property">&#39;content-type&#39;</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>mime<span class="token punctuation">.</span><span class="token function">getType</span><span class="token punctuation">(</span>suffix<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">;charset=utf-8;</span><span class="token template-punctuation string">\`</span></span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token comment">//=&gt;读取失败:最可能由于文件不存在而读取失败(也就是客户端请求的地址是错误的, 我们应该响应的内容是404)</span>
            res<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">404</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string-property property">&#39;content-type&#39;</span><span class="token operator">:</span> <span class="token string">&#39;text/plain;charset=utf-8;&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token string">&#39;NOT FOUND!&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span class="token punctuation">;</span>
http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span>handle<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span>port<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">server is success, listen on </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>port<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>fsPromise.js文件</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;fs&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//=&gt; 存储的是当前模块执行所在的绝对路径(!==__dirname)</span>
<span class="token keyword">let</span> dirname <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//=&gt; MKDIR &amp;&amp; RMDIR &amp;&amp; READ-DIR &amp;&amp; READ-FILE &amp;&amp; COPY-FILE</span>
<span class="token punctuation">[</span><span class="token string">&#39;mkdir&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;rmdir&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;readdir&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;readFile&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;copyFile&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;unlink&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    exports<span class="token punctuation">[</span>item<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>pathname<span class="token punctuation">,</span> copypath <span class="token operator">=</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        pathname <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>dirname<span class="token punctuation">,</span> pathname<span class="token punctuation">)</span><span class="token punctuation">;</span>
        copypath <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>dirname<span class="token punctuation">,</span> copypath<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> arg <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> result</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token function">reject</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">return</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token function">resolve</span><span class="token punctuation">(</span>result <span class="token operator">||</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>item <span class="token operator">===</span> <span class="token string">&#39;readFile&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">//=&gt; 非图片或者音视频等富媒体资源设置UTF-8</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(JPG|JPEG|PNG|GIF|SVG|ICO|BMP|EOT|TTF|WOFF|MP#|MP4|OGG|WAV|M4A|WMV|AVI)$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>pathname<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    arg<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span><span class="token string">&#39;utf8&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            item <span class="token operator">===</span> <span class="token string">&#39;copyFile&#39;</span> <span class="token operator">?</span> arg<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span>copypath<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
            fs<span class="token punctuation">[</span>item<span class="token punctuation">]</span><span class="token punctuation">(</span>pathname<span class="token punctuation">,</span> <span class="token operator">...</span>arg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">//=&gt; WRITE &amp;&amp; APPEND</span>
<span class="token punctuation">[</span><span class="token string">&#39;writeFile&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;appendFile&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    exports<span class="token punctuation">[</span>item<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">pathname<span class="token punctuation">,</span> content</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        pathname <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>dirname<span class="token punctuation">,</span> pathname<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> content <span class="token operator">!==</span> <span class="token string">&#39;string&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">//=&gt; 写入的内容我们规定必须是字符串才可以</span>
            content <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            fs<span class="token punctuation">[</span>item<span class="token punctuation">]</span><span class="token punctuation">(</span>pathname<span class="token punctuation">,</span> content<span class="token punctuation">,</span> <span class="token string">&#39;utf8&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> result</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token function">reject</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">return</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token function">resolve</span><span class="token punctuation">(</span>result <span class="token operator">||</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="api接口的请求处理-获取指定用户信息" tabindex="-1"><a class="header-anchor" href="#api接口的请求处理-获取指定用户信息" aria-hidden="true">#</a> API接口的请求处理(获取指定用户信息)</h2><h2 id="api接口的请求处理-post请求处理" tabindex="-1"><a class="header-anchor" href="#api接口的请求处理-post请求处理" aria-hidden="true">#</a> API接口的请求处理(POST请求处理)</h2><h2 id="专题汇总-js中的同步异步-宏任务和微任务" tabindex="-1"><a class="header-anchor" href="#专题汇总-js中的同步异步-宏任务和微任务" aria-hidden="true">#</a> 专题汇总-JS中的同步异步(宏任务和微任务)</h2><h2 id="process的一点知识" tabindex="-1"><a class="header-anchor" href="#process的一点知识" aria-hidden="true">#</a> process的一点知识</h2><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// node中独有的异步操作API</span>
<span class="token comment">// 它也是定时器，但是它不设置时间，但是它也是异步编程（宏任务），它会在所有其他定时器之前执行</span>
<span class="token comment">// 可以理解setImmediate相当于0毫秒</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>

<span class="token function">setImmediate</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">//=&gt; 1 2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// process.nextTick：把当前任务放到主栈最后执行（当主栈执行完，先执行nextTick，再到等待队列中找）</span>
process<span class="token punctuation">.</span><span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> <span class="token number">9999999</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  i<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// =&gt; 3 2 1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 如果在监听端口号下面的代码出现大量的占时间的代码，监听端口的代码在等待队列，由于主栈都没有执行完。访问该端口号会没有反应。</span>
<span class="token keyword">let</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;http&#39;</span><span class="token punctuation">)</span>
http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token string">&#39;ok&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">8888</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;success&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">function</span> <span class="token function">computed</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> <span class="token number">99999999</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    i<span class="token operator">++</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
process<span class="token punctuation">.</span><span class="token function">nextTick</span><span class="token punctuation">(</span>computed<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>p<wbr>rocess.env.NODE_ENV</code>：全局环境变量</p><p>用途：真实项目中，我们项目基于webpack打包配置的时候，往往需要区分不同环境下的不同操作，例如有 开发环境、测试环境、生产环境...而我们一般都是基于环境变量来区分打包配置的！</p><p>安装<code>cross-env</code>兼容所有操作系统</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token comment">/* package.json */</span>
<span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;23-process&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;4-async-process.js&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cross-env NODE_ENV=dev node index.js&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pro&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cross-env NODE_ENV=pro node index.js&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cross-env NODE_ENV=test node index.js&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;keywords&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ISC&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;cross-env&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^6.0.3&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token constant">ENV</span> <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">ENV</span> <span class="token operator">===</span> <span class="token string">&#39;dev&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;我是开发环境&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">ENV</span> <span class="token operator">===</span> <span class="token string">&#39;pro&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;我是生产环境&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">ENV</span> <span class="token operator">===</span> <span class="token string">&#39;test&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;我是测试环境&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="其他" tabindex="-1"><a class="header-anchor" href="#其他" aria-hidden="true">#</a> 其他</h1><h2 id="编辑器插件和配置备份神器-setting-sync" tabindex="-1"><a class="header-anchor" href="#编辑器插件和配置备份神器-setting-sync" aria-hidden="true">#</a> 编辑器插件和配置备份神器--setting sync</h2><blockquote><p>首先在vscode插件中心安装 <code>setting-sync</code> 这个插件。</p></blockquote><p><img src="`+K+'" alt="1548558295520"></p><blockquote><p>然后登陆GitHub进入你的 <code>Settings\\Developer settings</code> 界面，点击 <code>Generate new token</code>。</p></blockquote><p><img src="'+_+'" alt="1548558373414"></p><blockquote><p>按照下图进行设置。</p></blockquote><p><img src="'+$+'" alt="1548558416478"></p><blockquote><p>点击 <code>Generate token</code> 进行生成，复制该字符串。</p></blockquote><p><img src="'+nn+'" alt="1548558482299"></p><blockquote><p>回到vscode，在任意界面按 <code>Alt + Shift + U</code>，在对话框中输出刚才复制的 <code>token</code>。</p></blockquote><p><img src="'+sn+`" alt="1548558532015"></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>GitHub Token: 8b043912fe107452ceafce920c4298dfedaf4093
GitHub Gist: 1fa641053091a9778ba857e4bfb8709d
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,264),pn=[tn];function en(on,cn){return s(),a("div",null,pn)}const un=n(an,[["render",en],["__file","index.html.vue"]]);export{un as default};
