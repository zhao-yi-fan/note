---
title: è½¯ä»¶ç‰ˆæœ¬å·è¯¦è§£ï¼šä»è¯­ä¹‰åŒ–ç‰ˆæœ¬åˆ°é¢„å‘å¸ƒæ ‡è¯†
date: 2023-02-04
categories:
 - frontEnd
tags:
 - npm
 - ç‰ˆæœ¬ç®¡ç†
author: zhaoyifan
---

## è¯­ä¹‰åŒ–ç‰ˆæœ¬ï¼ˆSemantic Versioningï¼‰

è¯­ä¹‰åŒ–ç‰ˆæœ¬æ˜¯ç›®å‰æœ€å¹¿æ³›ä½¿ç”¨çš„ç‰ˆæœ¬å·è§„èŒƒï¼Œæ ¼å¼ä¸ºï¼š**ä¸»ç‰ˆæœ¬å·.æ¬¡ç‰ˆæœ¬å·.ä¿®è®¢å·**ï¼ˆMAJOR.MINOR.PATCHï¼‰

```
ç‰ˆæœ¬æ ¼å¼ï¼šX.Y.Z

X: ä¸»ç‰ˆæœ¬å·ï¼ˆMajorï¼‰- ä¸å…¼å®¹çš„ API ä¿®æ”¹
Y: æ¬¡ç‰ˆæœ¬å·ï¼ˆMinorï¼‰- å‘ä¸‹å…¼å®¹çš„åŠŸèƒ½æ€§æ–°å¢
Z: ä¿®è®¢å·ï¼ˆPatchï¼‰  - å‘ä¸‹å…¼å®¹çš„é—®é¢˜ä¿®æ­£
```

### ç¤ºä¾‹è¯´æ˜

```
1.0.0  â†’  é¦–æ¬¡æ­£å¼å‘å¸ƒ
1.0.1  â†’  ä¿®å¤äº†ä¸€äº› bugï¼Œå‘ä¸‹å…¼å®¹
1.1.0  â†’  æ–°å¢äº†åŠŸèƒ½ï¼Œå‘ä¸‹å…¼å®¹
2.0.0  â†’  æœ‰ç ´åæ€§æ›´æ–°ï¼Œä¸å‘ä¸‹å…¼å®¹
```

### ç‰ˆæœ¬å·é€’å¢è§„åˆ™

1. **ä¿®è®¢å·ï¼ˆPatchï¼‰**ï¼šä¿®å¤ bugï¼Œä¸å½±å“ API
   - `1.0.0` â†’ `1.0.1`
   - ä¾‹å¦‚ï¼šä¿®å¤å†…å­˜æ³„æ¼ã€æ ·å¼é—®é¢˜ç­‰

2. **æ¬¡ç‰ˆæœ¬å·ï¼ˆMinorï¼‰**ï¼šæ–°å¢åŠŸèƒ½ï¼Œä½†å‘ä¸‹å…¼å®¹
   - `1.0.1` â†’ `1.1.0`
   - ä¾‹å¦‚ï¼šæ–°å¢ APIã€æ–°å¢ç»„ä»¶ç­‰
   - ä¿®è®¢å·å½’é›¶

3. **ä¸»ç‰ˆæœ¬å·ï¼ˆMajorï¼‰**ï¼šé‡å¤§æ›´æ–°ï¼Œä¸å…¼å®¹æ—§ç‰ˆæœ¬
   - `1.1.0` â†’ `2.0.0`
   - ä¾‹å¦‚ï¼šAPI é‡æ„ã€åˆ é™¤åºŸå¼ƒåŠŸèƒ½ç­‰
   - æ¬¡ç‰ˆæœ¬å·å’Œä¿®è®¢å·éƒ½å½’é›¶

## npm ç‰ˆæœ¬ç¬¦å·è¯¦è§£

åœ¨ `package.json` ä¸­ï¼Œç‰ˆæœ¬å·å‰çš„ç¬¦å·å†³å®šäº†ä¾èµ–åŒ…çš„æ›´æ–°ç­–ç•¥ï¼š

| ç¬¦å·          | è¯´æ˜                          | ç¤ºä¾‹              | å…è®¸å®‰è£…çš„ç‰ˆæœ¬èŒƒå›´     |
| ------------- | ----------------------------- | ----------------- | ---------------------- |
| `^`ï¼ˆæ’å…¥ç¬¦ï¼‰ | å…¼å®¹è¡¥ä¸å’Œæ¬¡è¦ç‰ˆæœ¬æ›´æ–°        | `^1.2.3`          | `>=1.2.3` `<2.0.0`     |
| `~`ï¼ˆæ³¢æµªç¬¦ï¼‰ | åªå…¼å®¹è¡¥ä¸ç‰ˆæœ¬æ›´æ–°            | `~1.2.3`          | `>=1.2.3` `<1.3.0`     |
| `*`           | æ¥å—ä»»ä½•ç‰ˆæœ¬                  | `*`               | ä»»ä½•ç‰ˆæœ¬               |
| `>`           | å¤§äºæŸä¸ªç‰ˆæœ¬                  | `>1.2.3`          | `>1.2.3`               |
| `>=`          | å¤§äºæˆ–ç­‰äºæŸä¸ªç‰ˆæœ¬            | `>=1.2.3`         | `>=1.2.3`              |
| `<`           | å°äºæŸä¸ªç‰ˆæœ¬                  | `<1.2.3`          | `<1.2.3`               |
| `<=`          | å°äºæˆ–ç­‰äºæŸä¸ªç‰ˆæœ¬            | `<=1.2.3`         | `<=1.2.3`              |
| æ— ç¬¦å·        | ç²¾ç¡®åŒ¹é…                      | `1.2.3`           | `1.2.3`ï¼ˆå®Œå…¨åŒ¹é…ï¼‰    |
| `-`           | ç‰ˆæœ¬èŒƒå›´                      | `1.2.3 - 2.3.4`   | `>=1.2.3` `<=2.3.4`    |
| `\|\|`        | æˆ–                            | `^1.0.0 \|\| ^2.0.0` | 1.x.x æˆ– 2.x.x         |

### å¸¸ç”¨ç¬¦å·è¯¦è§£

**æ’å…¥ç¬¦ `^`ï¼ˆæœ€å¸¸ç”¨ï¼‰**
```json
"vue": "^3.2.0"
```
- å…è®¸æ›´æ–°æ¬¡ç‰ˆæœ¬å·å’Œä¿®è®¢å·
- `^3.2.0` å¯ä»¥å®‰è£… `3.2.0` åˆ° `3.x.x`ï¼ˆä½†ä¸åŒ…æ‹¬ `4.0.0`ï¼‰
- **npm install é»˜è®¤ä½¿ç”¨ `^`**

**æ³¢æµªç¬¦ `~`ï¼ˆæ›´ä¸¥æ ¼ï¼‰**
```json
"axios": "~1.2.0"
```
- åªå…è®¸æ›´æ–°ä¿®è®¢å·
- `~1.2.0` å¯ä»¥å®‰è£… `1.2.0` åˆ° `1.2.x`ï¼ˆä½†ä¸åŒ…æ‹¬ `1.3.0`ï¼‰
- é€‚åˆå¯¹ç¨³å®šæ€§è¦æ±‚é«˜çš„åœºæ™¯

**ç²¾ç¡®ç‰ˆæœ¬ï¼ˆæœ€ä¸¥æ ¼ï¼‰**
```json
"react": "18.2.0"
```
- å®Œå…¨é”å®šç‰ˆæœ¬ï¼Œä¸å…è®¸ä»»ä½•æ›´æ–°
- é€‚åˆç”Ÿäº§ç¯å¢ƒæˆ–å¯¹ç‰ˆæœ¬æå…¶æ•æ„Ÿçš„ä¾èµ–

## é¢„å‘å¸ƒç‰ˆæœ¬æ ‡è¯†

é¢„å‘å¸ƒç‰ˆæœ¬é€šè¿‡åœ¨ç‰ˆæœ¬å·åæ·»åŠ è¿å­—ç¬¦å’Œæ ‡è¯†ç¬¦æ¥è¡¨ç¤ºï¼š

```
1.0.0-alpha.1   â†’ Alpha å†…æµ‹ç‰ˆæœ¬
1.0.0-beta.1    â†’ Beta å…¬æµ‹ç‰ˆæœ¬
1.0.0-rc.1      â†’ Release Candidate å€™é€‰ç‰ˆæœ¬
```

### ç‰ˆæœ¬é˜¶æ®µè¯´æ˜

| ç‰ˆæœ¬æ ‡è¯† | å…¨ç§°                | è¯´æ˜                                                                   | é€‚ç”¨åœºæ™¯               |
| -------- | ------------------- | ---------------------------------------------------------------------- | ---------------------- |
| `alpha`  | Alphaï¼ˆå†…æµ‹ç‰ˆï¼‰     | å†…éƒ¨æµ‹è¯•ç‰ˆæœ¬ï¼ŒåŠŸèƒ½ä¸å®Œæ•´ï¼Œå­˜åœ¨è¾ƒå¤š bug                                 | å¼€å‘å›¢é˜Ÿå†…éƒ¨æµ‹è¯•       |
| `beta`   | Betaï¼ˆå…¬æµ‹ç‰ˆï¼‰      | å…¬å¼€æµ‹è¯•ç‰ˆæœ¬ï¼ŒåŠŸèƒ½åŸºæœ¬å®Œæ•´ï¼Œä¼šæŒç»­åŠ å…¥æ–°åŠŸèƒ½                           | å…¬å¼€æµ‹è¯•ï¼Œæ”¶é›†åé¦ˆ     |
| `rc`     | Release Candidate   | å‘å¸ƒå€™é€‰ç‰ˆæœ¬ï¼ŒåŠŸèƒ½å®Œæ•´ï¼Œä¸å†å¢åŠ æ–°åŠŸèƒ½ï¼Œä¸»è¦ä¿®å¤ bug                   | æ­£å¼å‘å¸ƒå‰çš„æœ€åæµ‹è¯•   |
| `stable` | Stableï¼ˆç¨³å®šç‰ˆï¼‰    | æ­£å¼å‘å¸ƒçš„ç¨³å®šç‰ˆæœ¬                                                     | ç”Ÿäº§ç¯å¢ƒä½¿ç”¨           |
| `lts`    | Long Term Support   | é•¿æœŸæ”¯æŒç‰ˆæœ¬ï¼Œä¼šæŒç»­ç»´æŠ¤å’Œä¿®å¤ bug                                     | å¯¹ç¨³å®šæ€§è¦æ±‚é«˜çš„é¡¹ç›®   |
| `next`   | Nextï¼ˆä¸‹ä¸€ä»£ç‰ˆæœ¬ï¼‰  | ä¸‹ä¸€ä¸ªå¤§ç‰ˆæœ¬çš„å¼€å‘ç‰ˆæœ¬                                                 | å°é²œæœ€æ–°ç‰¹æ€§           |
| `canary` | Canaryï¼ˆé‡‘ä¸é›€ç‰ˆï¼‰  | æ¯æ—¥æ„å»ºç‰ˆæœ¬ï¼ŒåŒ…å«æœ€æ–°æäº¤çš„ä»£ç                                        | å¼€å‘è€…æµ‹è¯•æœ€æ–°åŠŸèƒ½     |

### ç‰ˆæœ¬å‘å¸ƒæµç¨‹

```
å¼€å‘é˜¶æ®µ
  â†“
1.0.0-alpha.1  â†’ å†…éƒ¨æµ‹è¯•ï¼ŒåŠŸèƒ½å¼€å‘ä¸­
  â†“
1.0.0-alpha.2  â†’ ä¿®å¤ bugï¼Œç»§ç»­å¼€å‘
  â†“
1.0.0-beta.1   â†’ å…¬å¼€æµ‹è¯•ï¼ŒåŠŸèƒ½åŸºæœ¬å®Œæˆ
  â†“
1.0.0-beta.2   â†’ ä¿®å¤ bugï¼Œä¼˜åŒ–æ€§èƒ½
  â†“
1.0.0-rc.1     â†’ å‘å¸ƒå€™é€‰ï¼Œå‡†å¤‡å‘å¸ƒ
  â†“
1.0.0-rc.2     â†’ æœ€åçš„ bug ä¿®å¤
  â†“
1.0.0          â†’ æ­£å¼å‘å¸ƒ ğŸ‰
```

## å®é™…åº”ç”¨ç¤ºä¾‹

### Vue 3 çš„ç‰ˆæœ¬å‘å¸ƒ

```
3.0.0-alpha.0   â†’ 2020-01-16  ç¬¬ä¸€ä¸ªå†…æµ‹ç‰ˆ
3.0.0-alpha.13  â†’ 2020-07-18  æœ€åä¸€ä¸ªå†…æµ‹ç‰ˆ
3.0.0-beta.1    â†’ 2020-04-16  ç¬¬ä¸€ä¸ªå…¬æµ‹ç‰ˆ
3.0.0-beta.24   â†’ 2020-08-20  æœ€åä¸€ä¸ªå…¬æµ‹ç‰ˆ
3.0.0-rc.1      â†’ 2020-07-18  ç¬¬ä¸€ä¸ªå€™é€‰ç‰ˆ
3.0.0-rc.13     â†’ 2020-09-17  æœ€åä¸€ä¸ªå€™é€‰ç‰ˆ
3.0.0           â†’ 2020-09-18  æ­£å¼å‘å¸ƒ
3.0.1           â†’ 2020-09-19  ä¿®å¤ bug
3.1.0           â†’ 2021-06-07  æ–°å¢åŠŸèƒ½
3.2.0           â†’ 2021-08-09  æ–°å¢åŠŸèƒ½
```

### React çš„ç‰ˆæœ¬ç­–ç•¥

```
16.8.0  â†’ å¼•å…¥ Hooks
17.0.0  â†’ æ— æ–°åŠŸèƒ½ï¼Œä¸“æ³¨äºå‡çº§ä¾¿åˆ©æ€§
18.0.0  â†’ å¼•å…¥å¹¶å‘ç‰¹æ€§ï¼Œé‡å¤§æ›´æ–°
```

## æœ€ä½³å®è·µ

### 1. é€‰æ‹©åˆé€‚çš„ç‰ˆæœ¬ç¬¦å·

```json
{
  "dependencies": {
    // æ¨èï¼šå¯¹äºæˆç†Ÿçš„åº“ä½¿ç”¨ ^
    "vue": "^3.2.0",
    "react": "^18.2.0",
    
    // ä¸¥æ ¼ï¼šå¯¹ç¨³å®šæ€§è¦æ±‚é«˜çš„ä½¿ç”¨ ~
    "axios": "~1.2.0",
    
    // é”å®šï¼šç”Ÿäº§ç¯å¢ƒå…³é”®ä¾èµ–
    "typescript": "5.0.4"
  },
  "devDependencies": {
    // å¼€å‘ä¾èµ–å¯ä»¥æ”¾å®½é™åˆ¶
    "vite": "^4.0.0"
  }
}
```

### 2. ä½¿ç”¨ package-lock.json

- é”å®šæ‰€æœ‰ä¾èµ–çš„ç²¾ç¡®ç‰ˆæœ¬
- ç¡®ä¿å›¢é˜Ÿæˆå‘˜å®‰è£…ç›¸åŒçš„ä¾èµ–ç‰ˆæœ¬
- é¿å… "åœ¨æˆ‘æœºå™¨ä¸Šèƒ½è¿è¡Œ" çš„é—®é¢˜

### 3. å®šæœŸæ›´æ–°ä¾èµ–

```bash
# æŸ¥çœ‹å¯æ›´æ–°çš„ä¾èµ–
npm outdated

# æ›´æ–°æ‰€æœ‰ä¾èµ–åˆ°ç¬¦åˆè§„åˆ™çš„æœ€æ–°ç‰ˆæœ¬
npm update

# æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬ï¼ˆå¯èƒ½åŒ…å«ç ´åæ€§æ›´æ–°ï¼‰
npm install <package>@latest
```

### 4. å‘å¸ƒè‡ªå·±çš„åŒ…æ—¶

```bash
# å‘å¸ƒä¿®è®¢ç‰ˆæœ¬ï¼ˆbug ä¿®å¤ï¼‰
npm version patch  # 1.0.0 â†’ 1.0.1

# å‘å¸ƒæ¬¡ç‰ˆæœ¬ï¼ˆæ–°åŠŸèƒ½ï¼‰
npm version minor  # 1.0.1 â†’ 1.1.0

# å‘å¸ƒä¸»ç‰ˆæœ¬ï¼ˆç ´åæ€§æ›´æ–°ï¼‰
npm version major  # 1.1.0 â†’ 2.0.0

# å‘å¸ƒé¢„å‘å¸ƒç‰ˆæœ¬
npm version prerelease --preid=alpha  # 1.0.0 â†’ 1.0.1-alpha.0
```

## å…¶ä»–æ¦‚å¿µ

### RTMï¼ˆRelease to Manufacturingï¼‰

åˆ¶é€ å‘å¸ƒç‰ˆæœ¬ï¼Œè½¯ä»¶æ­£å¼äº¤ä»˜ç»™ç”Ÿäº§å•†åˆ¶é€ çš„ç‰ˆæœ¬ï¼Œé€šå¸¸å°±æ˜¯æ­£å¼ç‰ˆã€‚

### LTSï¼ˆLong Term Supportï¼‰

é•¿æœŸæ”¯æŒç‰ˆæœ¬ï¼Œä¼šæŒç»­æä¾›å®‰å…¨æ›´æ–°å’Œ bug ä¿®å¤ï¼Œé€‚åˆç”Ÿäº§ç¯å¢ƒï¼š

```
Node.js LTS ç‰ˆæœ¬ï¼š
- 12.x  â†’ 2019-10 åˆ° 2022-04
- 14.x  â†’ 2020-10 åˆ° 2023-04
- 16.x  â†’ 2021-10 åˆ° 2024-04
- 18.x  â†’ 2022-10 åˆ° 2025-04
```

### Nightly Build / Canary

æ¯æ—¥æ„å»ºç‰ˆæœ¬ï¼ŒåŒ…å«æœ€æ–°æäº¤çš„ä»£ç ï¼Œç”¨äºæµ‹è¯•æœ€æ–°åŠŸèƒ½ï¼š

```
Chrome Canary  â†’ æ¯æ—¥æ›´æ–°çš„ Chrome ç‰ˆæœ¬
Next.js Canary â†’ next@canary
```

## æ€»ç»“

- âœ… **ä½¿ç”¨è¯­ä¹‰åŒ–ç‰ˆæœ¬**ï¼šéµå¾ª `ä¸».æ¬¡.ä¿®è®¢` è§„èŒƒ
- âœ… **ç†è§£ç‰ˆæœ¬ç¬¦å·**ï¼š`^` ç”¨äºå¸¸è§„ä¾èµ–ï¼Œ`~` ç”¨äºä¸¥æ ¼åœºæ™¯
- âœ… **å…³æ³¨é¢„å‘å¸ƒç‰ˆæœ¬**ï¼šäº†è§£ alphaã€betaã€rc çš„åŒºåˆ«
- âœ… **é”å®šä¾èµ–ç‰ˆæœ¬**ï¼šä½¿ç”¨ `package-lock.json`
- âœ… **å®šæœŸæ›´æ–°ä¾èµ–**ï¼šä¿æŒä¾èµ–çš„å®‰å…¨æ€§å’Œç¨³å®šæ€§

## å‚è€ƒèµ„æº

- [Semantic Versioning å®˜æ–¹æ–‡æ¡£](https://semver.org/lang/zh-CN/)
- [npm ç‰ˆæœ¬å·æ–‡æ¡£](https://docs.npmjs.com/cli/v9/configuring-npm/package-json#dependencies)
- [npm version å‘½ä»¤](https://docs.npmjs.com/cli/v9/commands/npm-version)