<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.61">
    <script>
      (function() {
        const userMode = localStorage.getItem('vuepress-reco-color-scheme') || 'auto';
        const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;

        if (userMode === 'dark' || (userMode === 'auto' && systemDarkMode)) {
          document.documentElement.classList.toggle('dark', true);
        }
      })();
    </script>
    <link rel="icon" href="/favicon.ico"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><meta name="baidu-site-verification" content="codeva-35wm7P5Tff"><title>axios | zhaoyifan Blog</title><meta name="description" content="zhaoyifan zhaoyifan Blog">
    <link rel="modulepreload" href="/assets/app-0d93b783.js"><link rel="modulepreload" href="/assets/framework-fdd38eac.js"><link rel="modulepreload" href="/assets/index.html-570ee6eb.js"><link rel="modulepreload" href="/assets/index.html-28665913.js"><link rel="prefetch" href="/assets/index.html-ef2f4f01.js" as="script"><link rel="prefetch" href="/assets/index.html-ad78110e.js" as="script"><link rel="prefetch" href="/assets/index.html-b411025d.js" as="script"><link rel="prefetch" href="/assets/index.html-3c20f285.js" as="script"><link rel="prefetch" href="/assets/index.html-c0b56e02.js" as="script"><link rel="prefetch" href="/assets/index.html-7b03c055.js" as="script"><link rel="prefetch" href="/assets/index.html-99f86626.js" as="script"><link rel="prefetch" href="/assets/index.html-5d554fb2.js" as="script"><link rel="prefetch" href="/assets/index.html-e12f154a.js" as="script"><link rel="prefetch" href="/assets/index.html-ab1ed420.js" as="script"><link rel="prefetch" href="/assets/index.html-367d97d8.js" as="script"><link rel="prefetch" href="/assets/npm.html-301409e4.js" as="script"><link rel="prefetch" href="/assets/open.html-528f3cab.js" as="script"><link rel="prefetch" href="/assets/style.html-b0bb08a4.js" as="script"><link rel="prefetch" href="/assets/index.html-e4c44ef6.js" as="script"><link rel="prefetch" href="/assets/basic.html-2cd8ce95.js" as="script"><link rel="prefetch" href="/assets/index.html-d2da49ca.js" as="script"><link rel="prefetch" href="/assets/index.html-cc51c86b.js" as="script"><link rel="prefetch" href="/assets/index.html-330b1282.js" as="script"><link rel="prefetch" href="/assets/index.html-0388a4d4.js" as="script"><link rel="prefetch" href="/assets/index.html-8c0a5208.js" as="script"><link rel="prefetch" href="/assets/index.html-4023390a.js" as="script"><link rel="prefetch" href="/assets/index.html-5276ea51.js" as="script"><link rel="prefetch" href="/assets/index.html-653214c9.js" as="script"><link rel="prefetch" href="/assets/index.html-c9e8c204.js" as="script"><link rel="prefetch" href="/assets/index.html-942d4677.js" as="script"><link rel="prefetch" href="/assets/index.html-29b36c86.js" as="script"><link rel="prefetch" href="/assets/index.html-1c55f23a.js" as="script"><link rel="prefetch" href="/assets/index.html-45f74a5e.js" as="script"><link rel="prefetch" href="/assets/index.html-4e62ebeb.js" as="script"><link rel="prefetch" href="/assets/index.html-00d6d528.js" as="script"><link rel="prefetch" href="/assets/index.html-1330f1f0.js" as="script"><link rel="prefetch" href="/assets/index.html-ff8e0e79.js" as="script"><link rel="prefetch" href="/assets/index.html-f6131198.js" as="script"><link rel="prefetch" href="/assets/index.html-d3ee9831.js" as="script"><link rel="prefetch" href="/assets/index.html-ae14ae28.js" as="script"><link rel="prefetch" href="/assets/index.html-c3e42783.js" as="script"><link rel="prefetch" href="/assets/index.html-83b9eddc.js" as="script"><link rel="prefetch" href="/assets/index.html-b9f4366b.js" as="script"><link rel="prefetch" href="/assets/index.html-afd3af10.js" as="script"><link rel="prefetch" href="/assets/index.html-87c3bbdc.js" as="script"><link rel="prefetch" href="/assets/index.html-1256276f.js" as="script"><link rel="prefetch" href="/assets/index.html-57436ccb.js" as="script"><link rel="prefetch" href="/assets/index.html-d2cb4d9f.js" as="script"><link rel="prefetch" href="/assets/index.html-7a52531e.js" as="script"><link rel="prefetch" href="/assets/index.html-29d2a909.js" as="script"><link rel="prefetch" href="/assets/index.html-13937960.js" as="script"><link rel="prefetch" href="/assets/index.html-344deff4.js" as="script"><link rel="prefetch" href="/assets/index.html-444542d9.js" as="script"><link rel="prefetch" href="/assets/index.html-1795a6cf.js" as="script"><link rel="prefetch" href="/assets/index.html-ebccc636.js" as="script"><link rel="prefetch" href="/assets/index.html-dcdce99a.js" as="script"><link rel="prefetch" href="/assets/index.html-c59622ef.js" as="script"><link rel="prefetch" href="/assets/diff.html-352b3758.js" as="script"><link rel="prefetch" href="/assets/useEffectxiezaijiuzhiwenti.html-04b47157.js" as="script"><link rel="prefetch" href="/assets/index.html-0b26da6d.js" as="script"><link rel="prefetch" href="/assets/index.html-c2300033.js" as="script"><link rel="prefetch" href="/assets/index.html-198e65ac.js" as="script"><link rel="prefetch" href="/assets/0204.html-8e21240a.js" as="script"><link rel="prefetch" href="/assets/0206.html-e79f214a.js" as="script"><link rel="prefetch" href="/assets/0720.html-a7b324cf.js" as="script"><link rel="prefetch" href="/assets/0623.html-ea70d780.js" as="script"><link rel="prefetch" href="/assets/index.html-9b30df66.js" as="script"><link rel="prefetch" href="/assets/index.html-787059b3.js" as="script"><link rel="prefetch" href="/assets/index.html-bcf08354.js" as="script"><link rel="prefetch" href="/assets/index.html-616a6e5c.js" as="script"><link rel="prefetch" href="/assets/index.html-805a772d.js" as="script"><link rel="prefetch" href="/assets/index.html-95f87cc9.js" as="script"><link rel="prefetch" href="/assets/index.html-26f1f6e2.js" as="script"><link rel="prefetch" href="/assets/index.html-31ae5f50.js" as="script"><link rel="prefetch" href="/assets/404.html-f9875e7b.js" as="script"><link rel="prefetch" href="/assets/index.html-709e8f28.js" as="script"><link rel="prefetch" href="/assets/index.html-3676cb47.js" as="script"><link rel="prefetch" href="/assets/index.html-59578441.js" as="script"><link rel="prefetch" href="/assets/index.html-bab1a48f.js" as="script"><link rel="prefetch" href="/assets/index.html-7bdf9a99.js" as="script"><link rel="prefetch" href="/assets/index.html-cb729fc5.js" as="script"><link rel="prefetch" href="/assets/index.html-72d1e784.js" as="script"><link rel="prefetch" href="/assets/index.html-5f9e89ff.js" as="script"><link rel="prefetch" href="/assets/index.html-27c0ae6f.js" as="script"><link rel="prefetch" href="/assets/index.html-c8c43f3d.js" as="script"><link rel="prefetch" href="/assets/index.html-a7ffcfa1.js" as="script"><link rel="prefetch" href="/assets/npm.html-90d7fd29.js" as="script"><link rel="prefetch" href="/assets/open.html-2398f178.js" as="script"><link rel="prefetch" href="/assets/style.html-26310de4.js" as="script"><link rel="prefetch" href="/assets/index.html-ea1a00c4.js" as="script"><link rel="prefetch" href="/assets/basic.html-734bf802.js" as="script"><link rel="prefetch" href="/assets/index.html-2c62b87f.js" as="script"><link rel="prefetch" href="/assets/index.html-47a61926.js" as="script"><link rel="prefetch" href="/assets/index.html-8d10a3ee.js" as="script"><link rel="prefetch" href="/assets/index.html-b3a31a88.js" as="script"><link rel="prefetch" href="/assets/index.html-bfbdd7a3.js" as="script"><link rel="prefetch" href="/assets/index.html-2d200bb9.js" as="script"><link rel="prefetch" href="/assets/index.html-f8aad1e6.js" as="script"><link rel="prefetch" href="/assets/index.html-b83ca51d.js" as="script"><link rel="prefetch" href="/assets/index.html-04cadb4b.js" as="script"><link rel="prefetch" href="/assets/index.html-a2d32f00.js" as="script"><link rel="prefetch" href="/assets/index.html-343cf082.js" as="script"><link rel="prefetch" href="/assets/index.html-93cf13ba.js" as="script"><link rel="prefetch" href="/assets/index.html-c8dfcf03.js" as="script"><link rel="prefetch" href="/assets/index.html-6029bd7e.js" as="script"><link rel="prefetch" href="/assets/index.html-3b026ffc.js" as="script"><link rel="prefetch" href="/assets/index.html-e912179e.js" as="script"><link rel="prefetch" href="/assets/index.html-e6667148.js" as="script"><link rel="prefetch" href="/assets/index.html-220e8c5f.js" as="script"><link rel="prefetch" href="/assets/index.html-d95a79a6.js" as="script"><link rel="prefetch" href="/assets/index.html-ece78223.js" as="script"><link rel="prefetch" href="/assets/index.html-09a804d0.js" as="script"><link rel="prefetch" href="/assets/index.html-e0e0f48b.js" as="script"><link rel="prefetch" href="/assets/index.html-1d309bd2.js" as="script"><link rel="prefetch" href="/assets/index.html-9ecaf43a.js" as="script"><link rel="prefetch" href="/assets/index.html-a4a9f0ea.js" as="script"><link rel="prefetch" href="/assets/index.html-30c3075b.js" as="script"><link rel="prefetch" href="/assets/index.html-f484d09a.js" as="script"><link rel="prefetch" href="/assets/index.html-7147582e.js" as="script"><link rel="prefetch" href="/assets/index.html-84843aab.js" as="script"><link rel="prefetch" href="/assets/index.html-00e9a564.js" as="script"><link rel="prefetch" href="/assets/index.html-39903299.js" as="script"><link rel="prefetch" href="/assets/index.html-c447e1cc.js" as="script"><link rel="prefetch" href="/assets/index.html-301762b8.js" as="script"><link rel="prefetch" href="/assets/index.html-3fd8334c.js" as="script"><link rel="prefetch" href="/assets/index.html-39436b22.js" as="script"><link rel="prefetch" href="/assets/index.html-db8440ad.js" as="script"><link rel="prefetch" href="/assets/index.html-5c224d91.js" as="script"><link rel="prefetch" href="/assets/diff.html-2010b211.js" as="script"><link rel="prefetch" href="/assets/useEffectxiezaijiuzhiwenti.html-e0a1aacc.js" as="script"><link rel="prefetch" href="/assets/index.html-0f70748a.js" as="script"><link rel="prefetch" href="/assets/index.html-b89551e5.js" as="script"><link rel="prefetch" href="/assets/index.html-fef0a3b8.js" as="script"><link rel="prefetch" href="/assets/0204.html-cb6237f2.js" as="script"><link rel="prefetch" href="/assets/0206.html-d13fc4eb.js" as="script"><link rel="prefetch" href="/assets/0720.html-e9229d39.js" as="script"><link rel="prefetch" href="/assets/0623.html-1ff3191b.js" as="script"><link rel="prefetch" href="/assets/index.html-2bfa5aca.js" as="script"><link rel="prefetch" href="/assets/index.html-8fb2c807.js" as="script"><link rel="prefetch" href="/assets/index.html-48b5787f.js" as="script"><link rel="prefetch" href="/assets/index.html-4e0445cb.js" as="script"><link rel="prefetch" href="/assets/index.html-b3e8a6bc.js" as="script"><link rel="prefetch" href="/assets/index.html-1965fc34.js" as="script"><link rel="prefetch" href="/assets/index.html-0ba4ea8e.js" as="script"><link rel="prefetch" href="/assets/index.html-76fa50a3.js" as="script"><link rel="prefetch" href="/assets/404.html-eef0334a.js" as="script"><link rel="prefetch" href="/assets/reco-valine-a0c1af1f.js" as="script">
    <link rel="preload" href="/assets/style-032142c1.css" as="style"><link rel="stylesheet" href="/assets/style-032142c1.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><div class="common-wrapper show-series show-catalog"><div><header class="navbar-container" style="top:0;"><div class="site-brand nav-item"><img class="logo" src="/logo.png" alt="zhaoyifan Blog"><a href="/" class="site-name can-hide">zhaoyifan Blog</a></div><div class="nav-item navbar-links-wrapper" style=""><div><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form></div><nav class="navbar-links"><!--[--><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="Node.js"><span class="xicon-container left title"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Node.js<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="Node.js"><span class="title"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Node.js<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/nodejs/php/" class="link" aria-label="服务端开发基础"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->服务端开发基础<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/nodejs/node.js/" class="link" aria-label="node.js"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->node.js<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/nodejs/NODE-promise/" class="link" aria-label="node"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->node<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/nodejs/express/" class="link" aria-label="Express"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Express<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/nodejs/Koa/" class="link" aria-label="Koa"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Koa<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/nodejs/style.html" class="link" aria-label="代码风格"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->代码风格<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/nodejs/npm.html" class="link" aria-label="npm"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->npm<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/nodejs/open.html" class="link" aria-label="自动打开浏览器open库"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->自动打开浏览器open库<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->数据库<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a href="/docs/mongoDB/" class="link" aria-label="MongoDB"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->MongoDB<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="前端工程化"><span class="xicon-container left title"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->前端工程化<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="前端工程化"><span class="title"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->前端工程化<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/docs/CDN/" class="link" aria-label="CDN"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->CDN<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/docs/workspace/" class="link" aria-label="workspace工作空间"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->workspace工作空间<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->构建工具<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a href="/docs/webpack/" class="link" aria-label="webpack"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->webpack<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a href="/docs/rollup/" class="link" aria-label="rollup"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->rollup<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->typescript<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a href="/docs/TypeScript/" class="link" aria-label="typescript"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->typescript<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->网络知识<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a href="/docs/network-protocol/" class="link" aria-label="OSI 七层模型"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->OSI 七层模型<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a href="/docs/websocket/" class="link" aria-label="websocket http"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->websocket http<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->存储+缓存<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a href="/other/NODE-PROMISE/storage/" class="link" aria-label="存储方案"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->存储方案<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->nginx<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a href="/docs/nginx/" class="link" aria-label="nginx"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->nginx<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->跨平台<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a href="/docs/flutter/" class="link" aria-label="flutter相关对比"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->flutter相关对比<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a href="/docs/wechat_mini/" class="link" aria-label="微信小程序"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->微信小程序<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->css 预处理<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a href="/other/less/" class="link" aria-label="less"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->less<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="React"><span class="xicon-container left title"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->React<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="React"><span class="title"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->React<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/react/basic.html" class="link" aria-label="react原理及难点"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->react原理及难点<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/react/example/diff.html" class="link" aria-label="diff key的作用"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->diff key的作用<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/react/example/useEffectxiezaijiuzhiwenti.html" class="link" aria-label="useEffect卸载旧值问题(闭包与hooks 经典坑)"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->useEffect卸载旧值问题(闭包与hooks 经典坑)<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->redux<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="Vue"><span class="xicon-container left title"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Vue<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="Vue"><span class="title"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Vue<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->vue2<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a href="/docs/vue/" class="link" aria-label="Vue介绍"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Vue介绍<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a href="/docs/vnm-shop/" class="link" aria-label="移动商城全栈项目记录"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->移动商城全栈项目记录<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->vue3<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="其他"><span class="xicon-container left title"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->其他<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="其他"><span class="title"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->其他<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/docs/git/" class="link" aria-label="git"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->git<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/docs/document/" class="link" aria-label="dumi vuepress"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->dumi vuepress<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/docs/javascript/" class="link" aria-label="webapi 标准api"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->webapi 标准api<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/web/css/" class="link" aria-label="CSS"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->CSS<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/web/html/" class="link" aria-label="HTML"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->HTML<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/web/jQuery/" class="link" aria-label="jQuery"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->jQuery<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/other/version/" class="link" aria-label="版本的概念"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->版本的概念<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/other/keyword/" class="link" aria-label="常用词汇"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->常用词汇<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->盒子模型及jquery<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a href="/other/DOM_Box_Model-JQ/DOM_Box_Model/" class="link" aria-label="DOM盒子模型"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->DOM盒子模型<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a href="/other/DOM_Box_Model-JQ/jquery/" class="link" aria-label="JQ源码解析"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->JQ源码解析<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a href="/other/DOM_Box_Model-JQ/waterfall/" class="link" aria-label="瀑布流"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->瀑布流<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->事件绑定、事件委托、发布订阅<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a href="/other/event_binding-publish_subscribe-event-event_delegation/event_binding-publish_subscribe/" class="link" aria-label="DOM事件绑定、发布订阅"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->DOM事件绑定、发布订阅<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a href="/other/event_binding-publish_subscribe-event-event_delegation/event-event_delegation/" class="link" aria-label="事件和事件委托"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->事件和事件委托<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->其他<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a href="/other/AJAX/" class="link" aria-label="AJAX"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->AJAX<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a aria-current="page" href="/other/AXIOS/" class="router-link-active router-link-exact-active link router-link-active" aria-label="axios"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->axios<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="移动端跨端容器"><span class="xicon-container left title"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->移动端跨端容器<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="移动端跨端容器"><span class="title"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->移动端跨端容器<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/mobile/webapp/" class="link" aria-label="H5"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->H5<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/mobile/hybrid/" class="link" aria-label="Hybrid混合APP开发"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Hybrid混合APP开发<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="js基础"><span class="xicon-container left title"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->js基础<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="js基础"><span class="title"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->js基础<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/jsbasic/javascript/" class="link" aria-label="基础知识"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->基础知识<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/jsbasic/prototype-THIS/" class="link" aria-label="原型和this深入"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->原型和this深入<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/jsbasic/shop_sort/" class="link" aria-label="商城排序"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->商城排序<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/jsbasic/variable_hoisting-closure/" class="link" aria-label="变量提升、闭包"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->变量提升、闭包<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/jsbasic/oop/" class="link" aria-label="面向对象"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->面向对象<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/jsbasic/tool/" class="link" aria-label="git和node的安装和使用"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->git和node的安装和使用<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/jsbasic/summary/" class="link" aria-label="练习题延伸"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->练习题延伸<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/jsbasic/promiseA_/" class="link" aria-label="promise A+"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->promise A+<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links__item"><a class="link" href="https://zhao-yi-fan.github.io/" target="_blank" rel="noopener noreferrer" aria-label="个人项目汇总"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->个人项目汇总<!--]--></span></span><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><span class="xicon-container btn-toggle-dark-mode btn--dark-mode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:inherit;"><path d="M15 2h2v3h-2z" fill="currentColor"></path><path d="M27 15h3v2h-3z" fill="currentColor"></path><path d="M15 27h2v3h-2z" fill="currentColor"></path><path d="M2 15h3v2H2z" fill="currentColor"></path><path d="M5.45 6.884l1.414-1.415l2.121 2.122l-1.414 1.414z" fill="currentColor"></path><path d="M23 7.58l2.121-2.12l1.414 1.414l-2.121 2.121z" fill="currentColor"></path><path d="M23.002 24.416l1.415-1.414l2.12 2.122l-1.413 1.414z" fill="currentColor"></path><path d="M5.47 25.13L7.59 23L9 24.42l-2.12 2.12l-1.41-1.41z" fill="currentColor"></path><path d="M16 8a8 8 0 1 0 8 8a8 8 0 0 0-8-8zm0 14a6 6 0 0 1 0-12z" fill="currentColor"></path></svg></span><span class="xicon-container btn-toggle-menus"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:inherit;"><circle cx="16" cy="8" r="2" fill="currentColor"></circle><circle cx="16" cy="16" r="2" fill="currentColor"></circle><circle cx="16" cy="24" r="2" fill="currentColor"></circle></svg></span></div></header><header class="sub-navbar-container"><span class="nav-item"><div class="toggle-series-button" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div> Series </span></header><div class="mobile-menus-container"><nav class="navbar-links mobile"><!--[--><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="Node.js"><span class="xicon-container left title"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Node.js<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="Node.js"><span class="title"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Node.js<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/nodejs/php/" class="link" aria-label="服务端开发基础"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->服务端开发基础<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/nodejs/node.js/" class="link" aria-label="node.js"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->node.js<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/nodejs/NODE-promise/" class="link" aria-label="node"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->node<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/nodejs/express/" class="link" aria-label="Express"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Express<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/nodejs/Koa/" class="link" aria-label="Koa"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Koa<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/nodejs/style.html" class="link" aria-label="代码风格"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->代码风格<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/nodejs/npm.html" class="link" aria-label="npm"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->npm<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/nodejs/open.html" class="link" aria-label="自动打开浏览器open库"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->自动打开浏览器open库<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->数据库<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a href="/docs/mongoDB/" class="link" aria-label="MongoDB"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->MongoDB<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="前端工程化"><span class="xicon-container left title"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->前端工程化<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="前端工程化"><span class="title"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->前端工程化<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/docs/CDN/" class="link" aria-label="CDN"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->CDN<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/docs/workspace/" class="link" aria-label="workspace工作空间"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->workspace工作空间<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->构建工具<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a href="/docs/webpack/" class="link" aria-label="webpack"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->webpack<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a href="/docs/rollup/" class="link" aria-label="rollup"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->rollup<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->typescript<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a href="/docs/TypeScript/" class="link" aria-label="typescript"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->typescript<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->网络知识<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a href="/docs/network-protocol/" class="link" aria-label="OSI 七层模型"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->OSI 七层模型<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a href="/docs/websocket/" class="link" aria-label="websocket http"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->websocket http<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->存储+缓存<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a href="/other/NODE-PROMISE/storage/" class="link" aria-label="存储方案"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->存储方案<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->nginx<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a href="/docs/nginx/" class="link" aria-label="nginx"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->nginx<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->跨平台<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a href="/docs/flutter/" class="link" aria-label="flutter相关对比"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->flutter相关对比<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a href="/docs/wechat_mini/" class="link" aria-label="微信小程序"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->微信小程序<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->css 预处理<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a href="/other/less/" class="link" aria-label="less"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->less<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="React"><span class="xicon-container left title"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->React<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="React"><span class="title"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->React<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/react/basic.html" class="link" aria-label="react原理及难点"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->react原理及难点<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/react/example/diff.html" class="link" aria-label="diff key的作用"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->diff key的作用<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/react/example/useEffectxiezaijiuzhiwenti.html" class="link" aria-label="useEffect卸载旧值问题(闭包与hooks 经典坑)"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->useEffect卸载旧值问题(闭包与hooks 经典坑)<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->redux<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="Vue"><span class="xicon-container left title"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Vue<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="Vue"><span class="title"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Vue<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->vue2<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a href="/docs/vue/" class="link" aria-label="Vue介绍"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Vue介绍<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a href="/docs/vnm-shop/" class="link" aria-label="移动商城全栈项目记录"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->移动商城全栈项目记录<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->vue3<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="其他"><span class="xicon-container left title"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->其他<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="其他"><span class="title"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->其他<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/docs/git/" class="link" aria-label="git"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->git<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/docs/document/" class="link" aria-label="dumi vuepress"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->dumi vuepress<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/docs/javascript/" class="link" aria-label="webapi 标准api"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->webapi 标准api<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/web/css/" class="link" aria-label="CSS"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->CSS<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/web/html/" class="link" aria-label="HTML"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->HTML<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/web/jQuery/" class="link" aria-label="jQuery"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->jQuery<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/other/version/" class="link" aria-label="版本的概念"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->版本的概念<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/other/keyword/" class="link" aria-label="常用词汇"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->常用词汇<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->盒子模型及jquery<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a href="/other/DOM_Box_Model-JQ/DOM_Box_Model/" class="link" aria-label="DOM盒子模型"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->DOM盒子模型<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a href="/other/DOM_Box_Model-JQ/jquery/" class="link" aria-label="JQ源码解析"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->JQ源码解析<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a href="/other/DOM_Box_Model-JQ/waterfall/" class="link" aria-label="瀑布流"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->瀑布流<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->事件绑定、事件委托、发布订阅<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a href="/other/event_binding-publish_subscribe-event-event_delegation/event_binding-publish_subscribe/" class="link" aria-label="DOM事件绑定、发布订阅"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->DOM事件绑定、发布订阅<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a href="/other/event_binding-publish_subscribe-event-event_delegation/event-event_delegation/" class="link" aria-label="事件和事件委托"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->事件和事件委托<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->其他<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a href="/other/AJAX/" class="link" aria-label="AJAX"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->AJAX<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a aria-current="page" href="/other/AXIOS/" class="router-link-active router-link-exact-active link router-link-active" aria-label="axios"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->axios<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="移动端跨端容器"><span class="xicon-container left title"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->移动端跨端容器<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="移动端跨端容器"><span class="title"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->移动端跨端容器<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/mobile/webapp/" class="link" aria-label="H5"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->H5<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/mobile/hybrid/" class="link" aria-label="Hybrid混合APP开发"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Hybrid混合APP开发<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="js基础"><span class="xicon-container left title"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->js基础<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="js基础"><span class="title"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->js基础<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/jsbasic/javascript/" class="link" aria-label="基础知识"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->基础知识<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/jsbasic/prototype-THIS/" class="link" aria-label="原型和this深入"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->原型和this深入<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/jsbasic/shop_sort/" class="link" aria-label="商城排序"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->商城排序<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/jsbasic/variable_hoisting-closure/" class="link" aria-label="变量提升、闭包"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->变量提升、闭包<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/jsbasic/oop/" class="link" aria-label="面向对象"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->面向对象<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/jsbasic/tool/" class="link" aria-label="git和node的安装和使用"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->git和node的安装和使用<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/jsbasic/summary/" class="link" aria-label="练习题延伸"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->练习题延伸<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/jsbasic/promiseA_/" class="link" aria-label="promise A+"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->promise A+<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links__item"><a class="link" href="https://zhao-yi-fan.github.io/" target="_blank" rel="noopener noreferrer" aria-label="个人项目汇总"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->个人项目汇总<!--]--></span></span><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><div class="appearance"><span>Appearance</span><span class="xicon-container btn-toggle-dark-mode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:inherit;"><path d="M15 2h2v3h-2z" fill="currentColor"></path><path d="M27 15h3v2h-3z" fill="currentColor"></path><path d="M15 27h2v3h-2z" fill="currentColor"></path><path d="M2 15h3v2H2z" fill="currentColor"></path><path d="M5.45 6.884l1.414-1.415l2.121 2.122l-1.414 1.414z" fill="currentColor"></path><path d="M23 7.58l2.121-2.12l1.414 1.414l-2.121 2.121z" fill="currentColor"></path><path d="M23.002 24.416l1.415-1.414l2.12 2.122l-1.413 1.414z" fill="currentColor"></path><path d="M5.47 25.13L7.59 23L9 24.42l-2.12 2.12l-1.41-1.41z" fill="currentColor"></path><path d="M16 8a8 8 0 1 0 8 8a8 8 0 0 0-8-8zm0 14a6 6 0 0 1 0-12z" fill="currentColor"></path></svg></span></div></div><div class="series-mask"></div><aside class="series-container"><div class="site-brand"><img class="logo" src="/logo.png" alt="zhaoyifan Blog"><a href="/" class="site-name can-hide">zhaoyifan Blog</a></div><!--[--><!--[--><section class="series-group series-item"><h5 class="series-heading active">other<span class="arrow down"></span></h5><ul style="display:block;"><li><!--[--><a href="/other/AJAX/" class="link series-item" aria-label="AJAX"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->AJAX<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a aria-current="page" href="/other/AXIOS/" class="router-link-active router-link-exact-active link router-link-active series-item active" aria-label="axios"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->axios<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/other/DOM_Box_Model-JQ/DOM_Box_Model/" class="link series-item" aria-label="DOM盒子模型"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->DOM盒子模型<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/other/DOM_Box_Model-JQ/jquery/" class="link series-item" aria-label="JQ源码解析"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->JQ源码解析<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/other/DOM_Box_Model-JQ/waterfall/" class="link series-item" aria-label="瀑布流"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->瀑布流<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/other/event_binding-publish_subscribe-event-event_delegation/event_binding-publish_subscribe/" class="link series-item" aria-label="DOM事件绑定、发布订阅"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->DOM事件绑定、发布订阅<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/other/event_binding-publish_subscribe-event-event_delegation/event-event_delegation/" class="link series-item" aria-label="事件和事件委托"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->事件和事件委托<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/other/less/" class="link series-item" aria-label="less"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->less<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/other/NODE-PROMISE/storage/" class="link series-item" aria-label="存储方案"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->存储方案<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/other/version/" class="link series-item" aria-label="版本的概念"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->版本的概念<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/other/keyword/" class="link series-item" aria-label="常用词汇"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->常用词汇<!--]--></span></span><!--[--><!--]--></a><!--]--></li></ul></section><!--]--><!--]--></aside><!--[--><main class="page-container"><h1 class="page-title">axios</h1><div class="page-info"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M16 4a5 5 0 1 1-5 5a5 5 0 0 1 5-5m0-2a7 7 0 1 0 7 7a7 7 0 0 0-7-7z" fill="currentColor"></path><path d="M26 30h-2v-5a5 5 0 0 0-5-5h-6a5 5 0 0 0-5 5v5H6v-5a7 7 0 0 1 7-7h6a7 7 0 0 1 7 7z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->zhaoyifan<!--]--></span></span><!----><!----><!----><span class="xicon-container left"><!--[--><svg class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 12 12"><g fill="none"><path d="M1.974 6.659a.5.5 0 0 1-.948-.317c-.01.03 0-.001 0-.001a1.633 1.633 0 0 1 .062-.162c.04-.095.099-.226.18-.381c.165-.31.422-.723.801-1.136C2.834 3.827 4.087 3 6 3c1.913 0 3.166.827 3.931 1.662a5.479 5.479 0 0 1 .98 1.517l.046.113c.003.008.013.06.023.11L11 6.5s.084.333-.342.474a.5.5 0 0 1-.632-.314v-.003l-.006-.016a3.678 3.678 0 0 0-.172-.376a4.477 4.477 0 0 0-.654-.927C8.584 4.673 7.587 4 6 4s-2.584.673-3.194 1.338a4.477 4.477 0 0 0-.795 1.225a2.209 2.209 0 0 0-.03.078l-.007.018zM6 5a2 2 0 1 0 0 4a2 2 0 0 0 0-4zM5 7a1 1 0 1 1 2 0a1 1 0 0 1-2 0z" fill="currentColor"></path></g></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[--><span id="/other/AXIOS/" class="leancloud-visitors" data-flag-title="Your Article Title"><a class="leancloud-visitors-count" style=""></a></span><!----><!--]--></span></span></div><div class="theme-reco-default-content"><div><h1 id="axios" tabindex="-1"><a class="header-anchor" href="#axios" aria-hidden="true">#</a> axios</h1><h2 id="axios的基础语法" tabindex="-1"><a class="header-anchor" href="#axios的基础语法" aria-hidden="true">#</a> axios的基础语法</h2><p>axios: 它是一个类库, 基于PROMISE管理的AJAX库.</p><ol><li>提供了对应请求方式的方法(例如: get/post/head/delete/put/option...)</li></ol><p>​ <code>axios.get()</code>向服务器发送一个请求, 基于的是GET方式</p><p>​ ...</p><ol start="2"><li>支持的参数配置</li></ol><p><code>axios.get(url[,config])</code></p><p><code>axios.delete(url[,config])</code></p><p><code>axios.head(url[,config])</code></p><p><code>axios.post(url[,data[,config]])</code></p><p><code>axios.put(url[,data[,config]])</code></p><p><code>axios.patch(url[,data[,config]])</code></p><p><img src="/assets/1555127705092-70a65b0c.png" alt="1555127705092"></p><p>axios不是一个类, 因为原型上没有方法和属性. 只是一个普通函数, 把函数当做一个对象, 对象里面有很多方法</p><ol start="3"><li>基于GET或者POST方法发请求, 返回的结果都是PROMISE实例</li></ol><h3 id="向服务器发起请求" tabindex="-1"><a class="header-anchor" href="#向服务器发起请求" aria-hidden="true">#</a> 向服务器发起请求</h3><ul><li>发送一个get请求</li></ul><p><code>axios.get(url[,config])</code></p><p>问号传参的方式</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;http://localhost:3000/&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token comment">//=&gt; GET请求中, 会把PARAMS中的键值对拼接成URLENCODE格式的字符串, 然后以问号传递参数的方式, 传递给服务器, 类似于JQ-AJAX中的DATA(或者自己基于URL后面拼接也可以, 不用PARAMS)</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;zhufeng&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">9</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/1555128288251-532bfd6d.png" alt="1555128288251"></p><ul><li>发送一个post请求</li></ul><p><code>axios.post(url[,data[,config]])</code></p><p>这样发送一个post请求, 会发送一个RAW格式(JSON格式的字符串)</p><p>不是www-form-urlencoded格式, 是RAW格式(也就是JSON格式的字符串)</p><p>项目当中最常用的是www-form-urlencoded格式</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&#39;http://localhost:3000/&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token comment">//=&gt; 配置项中传递的内容都相当于基于请求主题传递给服务器, 但是传递给服务器的内容格式是RAW(也就是JSON格式的字符串), 不是X-WWW-FORM-URLENCODED</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;zhufeng&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">9</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/1555128476132-0bd1e73b.png" alt="1555128476132"></p><h3 id="发送数据之后获取服务端返回的数据" tabindex="-1"><a class="header-anchor" href="#发送数据之后获取服务端返回的数据" aria-hidden="true">#</a> 发送数据之后获取服务端返回的数据</h3><ul><li>get请求 请求成功</li></ul><p>如果直接在请求地址传递参数, 请求地址是带参数的, 同时config中的url显示问号传参的, 但是config中是没有params属性的.</p><p>如果在params中传递参数, 那么请求地址其实也是带参数的, 但是config中的url不显示问号传参的, config中的params是可以看到传参的.</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> promise <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;https://www.easy-mock.com/mock/5cb165067aab7f78650d2087/example/proxy&#39;</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
    <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">lx</span><span class="token operator">:</span> <span class="token number">12</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
promise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//服务器返回的不是直接传递回的数据, 而是一个对象</span>
    <span class="token comment">/* 
            config: 基于axios发送请求的时候做的配置项(当前向服务器发送请求所使用的配置项)
            data: 从服务器获取的响应主体内容
            headers: 响应头信息
            request: 创建的AJAX实例(发送请求创建的)
            status: 状态码
            statusTest: 状态码的描述

            */</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/1555131535069-5c127760.png" alt="1555131535069"></p><p>传递的params参数在config配置项中</p><p><img src="/assets/1555132075578-aa698b4d.png" alt="1555132075578"></p><ul><li>get请求 请求失败, 请求地址故意错误</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> promise <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;https://www.easy-mock.com/mock/5cb165067aab7f78650d2087/example/proxy2&#39;</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
    <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">lx</span><span class="token operator">:</span> <span class="token number">12</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
promise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//服务器返回的不是直接传递回的数据, 而是一个对象</span>
    <span class="token comment">/* 
            config: 基于axios发送请求的时候做的配置项(当前向服务器发送请求所使用的配置项)
            data: 从服务器获取的响应主体内容
            headers: 响应头信息
            request: 创建的AJAX实例(发送请求创建的)
            status: 状态码
            statusTest: 状态码的描述

            */</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">msg</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//=&gt; 请求失败的原因</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/1555132185321-dd92ab5c.png" alt="1555132185321"></p><ul><li>post请求 请求成功</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> promise <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&#39;https://www.easy-mock.com/mock/5cb165067aab7f78650d2087/example/mock&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;cici&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">9</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
promise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">msg</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/1555132817200-4012bef5.png" alt="1555132817200"></p><p>config中的data: 通过请求主体向服务器传递的内容, 是一个JSON格式的字符串</p><ul><li>post请求 请求失败 请求地址故意错误</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> promise <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&#39;https://www.easy-mock.com/mock/5cb165067aab7f78650d2087/example/mock2&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;cici&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">9</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
promise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">msg</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/1555132949568-b5468526.png" alt="1555132949568"></p><ul><li>head请求 请求成功</li></ul><p>head请求只有响应头, 没有响应主体, 所以result对象中的data是空</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> promise <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">head</span><span class="token punctuation">(</span><span class="token string">&#39;package.json&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
promise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">msg</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/1555133644457-d76735ae.png" alt="1555133644457"></p><h3 id="实际用法" tabindex="-1"><a class="header-anchor" href="#实际用法" aria-hidden="true">#</a> 实际用法</h3><ol><li></li></ol><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;https://www.easy-mock.com/mock/5cb165067aab7f78650d2087/example/proxy&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> <span class="token punctuation">{</span> data <span class="token punctuation">}</span> <span class="token operator">=</span> result<span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">msg</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>proxy</p></blockquote><p><img src="/assets/1555134633115-38f8eeb6.png" alt="1555134633115"></p><blockquote><p>结果</p></blockquote><p><img src="/assets/1555134523925-5901e659.png" alt="1555134523925"></p><ol start="2"><li>通过promise可以发送完一个请求之后再发送一个请求, 解决了回调地狱的问题</li></ol><p>在第一个then里面, 当异步请求发起之后, 并且请求成功执行result才会执行下一个then</p><p>return 可以有两种, 一种是返回具体值. 另一种是发起地址请求.</p><p>如果第一个then里面, return 的是一个具体值, 则下一个then中的result就是这个具体值</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;https://www.easy-mock.com/mock/5cb165067aab7f78650d2087/example/proxy&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> <span class="token punctuation">{</span> data <span class="token punctuation">}</span> <span class="token operator">=</span> result<span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&#39;https://www.easy-mock.com/mock/5cb165067aab7f78650d2087/example/add&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> <span class="token punctuation">{</span> data <span class="token punctuation">}</span> <span class="token operator">=</span> result<span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>add</p></blockquote><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM0AAABKCAYAAAAYCdAJAAAGoUlEQVR4nO3cW0xTdxwH8C8gzZAOb7T1Mrk4iRhFbtJRfJiyjBdFgmRm2cPidLKQLW4PLFsyFpHA1Cx7MNlcgsm27GEPS9BwWWJcplmyCCtgQWNGohuIUdPCksm4SBHcA+sRev3/yzntEb6fhOS055x/f9b/t///+fcSk5279Qn+92hi0rOJtJQNuHvvAaanZzBXXFwsNm5Yh4HBeyBaimID7oiN8QkMAExPzyA2NkbTooj0LGBovFmtVvx86RJ6e3pwoq5By5qIdG2Z6IFvHzkCADhaWYlh133NCiLSO+GRxmQyob+/H3a7Xct6iHRPKDRWqxVGo1HrWoieCcIjDRHNEgqN2WyGwWBAb2+v1vUQ6V7QhQCr1YqG+nokJibis5Mn0dbWFqm6iHQraGjsdjteLSnBvn378GF1NVJTUvDV2bORqo1Il4SmZy6XC263G9nZ2VrXQ6R7XAggksTQEEkKGJqZmSeIi5vdbbfbMTo6CmD2A5szM08CnUa06AUMzejYGFavWqEEZ2hoCOnp6XileDdGx8YiViCR3sStXWeq9dx4/Hha2TE+8QjLE56Dac1qrF61Ag9HHsJm24WysnJkZm5FK5efaYmKCfR9GiLyjwsBRJIYGh260nogrH3hthlOO9GuI5oYGh3aU3p+Xue60npA+fN3W5YaHde7xqVE+EtoFD17Ss8r21daD8y7HW57arXjj78wLfSx9CQiCwGNZ4qx3pKI2tN2VB7apmx3OZx+j2+oseHF9BX4+MRVDAyOaFKTt6rDWThYnoEfL9wCAGX7629uqPYYss+DR7BXdO/OGM6r/0LbCBYe78CLnB/u8xQpERtpRsemMPz3hM+2Wir2b8Zbb2zFtz/8gaaW22G1MTU1A9fwBMzJCcq22sJ5HmRGGtEOLPOYC2nHu03RIGndXxYiIqEZGppAktHgs60nruEJuN3TPttqEnke5naiQNcN3vf5GylEOvZCp2hqTPH80Xt/0cX7NGkpSTh1vAgW83LlPqdrfN70rPFMMTI2rVT2e6ZOFfs3451D2xEf77umcfX3B/ikvh0AfI7zbl9EYaENp099AaPRiLq642huuRDWv1eE2h061G3vc715jp17Xqga/e2XqUOvor4Q4AnMyKgbrx+5CODpNY1H1eEsOHqHUPn+ZWX/3pI0dDpcaGq5jaaW20GnZ2kpSbAVrEXlB5cxMDiCnbkW1H5kxdE3tymh0jOZa5pg53s6qEhHFZlCLVVRD01+jhkGQxwav7sZ8Bjvi/Fr14eQvT0ZqRufF7o4HBgcQfWnvym3uxxO3HeOwWRKkKq1o6MdL+8ukjpHLf46uUiYvIOi1iv7szhCqCXqoTEnJ8DgZ2o1l2dkSEyMV+6bmvL99c9gGmpsKHpp3bz7bv31j1Qb0RTOq72/jq1mcERr8DzuYhH10ISSlpKE6vdycd85pkzPPFMxUVWHs1CQZ8GX564rU7fGM8Wa1Ku2YJ0u1CcHAnXUhQTH+9xA1y3+al4so1PUQ9PpcGFvSRoKcs3ocjiVEcHpGgcAJK9JgDExHn/2PwQwG6LXyjbDYIib186du/8CAPJ2mHyuaV5Yb4TbPa0cU3U4CxmbVkqPNJFcCADmT61ERxrRV/a5K3OhFgT8XbiHCuViFvXQdDmc+OnSAA6WZ+BgeQacrnG0XexHQZ7FZ7/nP/GXX+8iL9scsB3PcZ7Vs3Pf38Sp40X4vG4XgNmVs+4eF5KS9LWU6W1u5xMdadR4LybQ/rlBkf0YzWIZZQCdLDlTcMHeEAzVEWWO9fdY4d4f6phn+VqHoSGSxE85E0liaIgkLXs0/vT9jslJufc++vp6AACZmTmqFkWkZxxpiCQxNESSQoamvr4WfX3XceNGN44dezcSNRHpWsjQ1NTUIjNzB7q6rqGiohyFhdZI1EWkW8LTM4ejBwaDARaLRct6iHSP1zREkhgaIknCoblzZxAGQzwKCvK1rIdI94RD09zcivx8G3JystHd3Y6yslIt6yLSLeHQlJWVoru7HT09vcjPt6G5uVXLuoh0Szg0qakpcLun0NnZrWU9RLrHhQAiSQwNkSSGhkiScGhyc3PgdrvhdOrjR6iJokX4A5s7d+ahqekCOjrskaiLSLditmzZovxGwOSk3G8E8EtotBTxhzWIJHEhgEgSQ0MkiaEhksTQEEliaIgkMTREkhgaIkkMDZEkhoZIEkNDJImhIZLE0BBJYmiIJDE0RJIYGiJJDA2RJIaGSBJDQySJoSGSxNAQSfoP/5ED/bZur6IAAAAASUVORK5CYII=" alt="1555135046794"></p><blockquote><p>proxy</p></blockquote><p><img src="/assets/1555134633115-38f8eeb6.png" alt="1555134633115"></p><blockquote><p>结果</p></blockquote><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASIAAAAuCAYAAACMCxR5AAAPDElEQVR4nO2dcUyb1d7Hv3uRtxSkHRfYtH03RiXb5N5Rie6CMoLuDk0NzgxdKsawLZAtJu8iQ7MBkRFiQigxjjjfOF1RzJK766q82TBrJrz3uqi7VO5Sy94SLmvoWmnvNiildPC0TtL7x/Ic+7RPy1O6tajnkxB4zjm/85zntM/vfM95Hs5vVSAQCIBCoVCSyH8kuwEUCoVCHRGFQkk61BFRKJSkE5cjunbtGubn52O2c7vdqK6uhkKhgMFgiKcJlBWEXq+HVqtNdjN+kVgsFrS2toJhmLjLs/dXdXU13G733W7qPSEuR3ThwgVotVpMTk5icXFRsN3Jkydx5MgRTExMoKSkJJ4m/OpgmEXUHTLgG8NUspsSMw6HA3K5XFBZv9+Pzs5OmEyme9wqLjqdDgqFAjqdLqHnjYbBYMDhw4fR2NgIsVhM0hQKBfkpLy+HxWIhNgUFBcjMzMQXX3wRVl9WVhb6+vpQWlqKwcHBhF1HPMTliG7fvg2Hw4Genh6cPXsWc3NzS9q43W44nU5s3LgxnlP/alnw/QQAeHijJMktiQ2/34+FhQUUFhYKKu/z+QAAGzZsuJfN4uB2u2G1WnH06FFYrdaEnTcaFosFnZ2d6OrqQlZWFkm32+3QaDSYmJjAxMQEvv76axQUFHBsq6urodfro6qe9evX37O2303iXiNaXFyE1+vFd999h97eXly5cgU//vgjIr0V4HK5kJmZibS0NE46O0Kq1Wqo1Wo0NjbC4/EACJf8ocehtp2dnfD7/SRfq9Xy1huaF82uvr4eNpuN5JlMJpKnVquh1+s518OOaEKnni63H9tf+D/kP3YOunN25D92DpKHdGjrukLy6w4Z8L/nJyF5SAfJQzrUHTKAYRbhcvvxYt03+KdljpQNPgaAtq4rYXbxYrPZUF9fD7VajdraWly7dg2rV68GEP6ZsH3k8XjQ2NiI/fv3w2g0Yv/+/VCr1ZzPM7RvQz+zWPuWZXBwEBUVFXj44Yc56W63Gw0NDTh//jxRIA0NDWAYBgzDoLW1FefPn0d5eTkUCgVnysMwDBoaGjjqRafTkfTgNup0OnR1dZFjhmHw3nvvoampKczJWK3WJZ2IXC6HRCLB+Ph4WB7DMPB6vcjOzo6pj5LFfXejkkAggNu3b+OHH35Af38/0tPToVAoeMsajUYUFRURCcpy6tQpKJVKNDU1hdmESv7gY4/Hg/b2duzZsyfM1u/349ixY1Aqlfj0009581QqFerr68nx2NgYlEolcSyhdsCdG/Czzz7Dhx9+CKlUGrFf5HK54C9CdpYIf/38Tzils8JivYX2w1s4+dMuP4YuTwMAbvx/NRZ8P+HAG8OwO35eo8vJFpGy7DHDLOK/W/6BfS8p0H54Czm+PDKDbSW5gtrGh81mQ3d3N1pbW5GXlwebzYazZ88iLS2N0+9NTU3w+/344IMPUFhYCKlUinfeeQd6vR4OhwP19fWcek0mEz755BPStyaTCcPDw2H9HEvfAneUx8jICKqqquBwOOD1esEwDMRiMVwuFy5fvgwAMJvN8Pl8eP311+FwOJCdnQ2z2Qyz2Yxz584hLS0Nzc3NGB8fR1FREZqbm1FWVobu7m4wDIOOjg4UFxdDLBZDJpPBbrejpKQEDMPg22+/RU1NDWnTyMgIAKCoqIjTVrfbjaGhIZw4cQIA8Mgjj6Cnp4ejmJbC5/PB4XAILp9s7spTs1WrViE1NRXr1q3Dc889h3Xr1oWVYUcxANi9e3dYvlwuR29vb5iyCJX8fr8f09PTkMlkAIBLly6hsLAQSqUyrM6xsTEAwPbt23nzjEYjOjo6yIiek5ND6pHJZBgYGOBdfF29ejXm5+fR3t7OGamDKSkp4ZXTS2Gx3kJB/v1h6VMuP9bmpqHr6CMQi1OQnSXCZz3bsKlAgimXH7/fJEV2loiUlUpSkZ52Hy6PzEB3zo5nX/4Kkod0WPuHPvzXg+lxOSEAGBgYwNNPP428vDwAwOjoKNLT0yESicL6/fr165iamiJqCeBfT/L7/dDr9dizZw9xPMPDw2HlltO3fX19qKqqIgOgw+Eg00OXy4Xc3Fy0tbVBLBYjKysLH330EQoKCuByuRAIBMjUSSwWo7u7GyUlJcSRVFVVkTpZ5wUAFRUVZArocDgwNzfHWZK4ePEiysrKwgZldo1nYmICZrMZ69evx8mTJwVfK1tHS0sL9u3bt6LWwyIRtyJKSUlBRkYGtmzZgh07dkAi4V/bKCkpgdlsJiNG6JdIpVJBpVJBr9dDrVZj7969UKlUYV/isbEx3Lx5Exs2bIDf74fJZIJKpeI95/DwMJRKJUQiUVie0+lEZWVl2IjMwqoodpoQXJYd1Vk1BgBtbW1R1ZEQGGYR3lu38cfi8JHear+FfS8piLMJZuDideK8GGYRH/9lAk8+sQZicQqs9ls4dGBzmMKKB77BwWQyESfudDo5/T46OoqMjAwyHY+0nhS6buTxeDA6OoqtW7fG1V6LxYL+/n6iMIA7A5/L5UJWVhbsdjtqamp4FYfL5cLjjz/O6/TsdjvHkRiNRkgkEnKd2dnZRHn19fXhwIED5BwMw8DpdKKioiJq21lllZ+fH5bn8/kwNzfHqwwNBgNOnz6NL7/8MszRrUTiUkSpqamQy+Woq6vD888/H9EJsfh8viXnrSqVCnv37iWycnZ2lnyJbTYbjh8/TsqKRCLk5ORgeHiYty65XA6TycRZ9wlmeno6Yh6LUqlES0sLb1mpVIq2tjZkZGRgdnaWpFssFpSXl8e8hrHg+wl2xwJvnsV6C/nrw5USwyxi8l8LJK/z+Ch05+ycMpP/Woi6JtTV1UXWRAS3dWGBXPOpU6dgNBqJSgVAPj+TyYTe3l7k5OQQx+Tz+TA1xf9UcH5+HrOzs/D7/Xj//fcxNzfHUVLL6du+vj68/fbbZOHXbDbj0UcfhcvlAhB9PcZut/M6ARZW8RgMBhw5cgQymYzc+KwjGhkZwf3337+sJ8Q6nQ79/f0oLi4OyxsfH4dEIuF9UhlJba1U4lJEzzzzDHJzc5GRkSGofKSFar1ej97eXnJcXFyMQ4cOAbgzOt68eRO1tbWQy+U4ePAgLl68SOrYvXs32tvboVarObYikQjbt2+HyWRCbW0tgDuOiVUuoXkA0NLSAqVSCZPJhI6ODpLO2olEIqKCguffLS0tZIrCXudy5ufZWSL8fpMUW5+5AABEybjcfpj/6cHL1XlhNmJxCp58Yg2effkrAMD/dD6GQwc2E8f0YtV6fHXpJtb+oY/YnP/zk2FTM7vdDp/PJ+iLKxKJoFQqSR+p1WqUlZURh1FYWIjPP/8cAwMDKC4uhlqt5tQrlUqRl5eHw4cPAwBRm6Hpr776KgBwHFGsfWswGOB0OsPWYVjcbjfGxsZQXV0dlse3rhNMcXEx3n33XZw4cQI7d+7E0aNHOfcC+x3VaDTo6ekR1F632426ujp8//33AICdO3fyqhqGYXD69GnU1NTw5nm9Xl7ntWIJJJChoaGARqNJ5CkpAtBoNIEzZ84kuxm/OmZmZgK7du0KDA0N8eafOXNm2feDRqOJaDszMxN47bXXAjMzM8uqOxkk9F887Hb70oUoCYN9uS8/P5/3AQJl+TAMg/b2dpSWlkacku3YsQNjY2OcFxWFoNPp4HQ6cfDgQd78wcFByGSymJ6yJZ1Eej12hNi2bVvg6tWriTw1hZIwNBpNID8/X5DaiXWWEK380NBQID8/P7Br165flBoKBAKBVYEA3Y+IQqEkF/rf9xQKJelQR0ShUJLOfZHeDKZQKJREQdeIKBRK0qFTMwqFknSoI6JQKEmHOiIKhZJ0qCOiUChJhzoiCoWSdKgjSgDfytfGlB6pLPuTKBJ5LspvG+qIEkCZ4wbnpub7W8hNX+a4EVbXUsRSf6hdmeNGTDYUynJZsXHNbDYbWltbI27FmmyYq1fxj5JH4fn7Jdz4y58xUqXC7ZmZiOVDb+pQZ8SXH6qAgo/vlloJri9andGul90oPjTkDYUilLg2Rrtw4QJ8Ph9eeOEFPPjgg0hJSRFkx8Y1i7ZjXfDOjEKItBn7veLH6Sn8Z+4apG/ajNm//RXSJ8qQ+rvfCbJlVU00xRGcJ1SdLDUF5KsntC2RHGS062X3cdbpdOjr6yMbm1EoQlmxcc1C9z1eCofDEffexrHgs12D9IkypIjF8DsdWP1U+Ab9LKFKJlTV8DmQaOokUnl26sb+AOBN47NjCbVjzyX0eqNtq0qhRCLuzfOD45pNTk7iqaeewqZNm5CamopVq1aFlY8W1+zYsWMwGo0kraWlhfyt1WoxMDBAjtntRYPT2d/BW8LabDa89dZb8Hq9AIDMzEwSAgf4eWvO0tLSmEbytS+9TP7e+N77EctFUhuAMGUUrT6+vOC6hdoJQcj1Wq3WJTeDp1D4WBFxzSLFwWL3KmZD+rAxxrRaLVE/9fX1qKyshFarxRtvvMGJpBEp9tYDDzwQ1q5EjeSxTrnYMqyTEaJqQh1eLE4o1HEKtWOjUlAoy2FFxDWLFgfLZrPBZrMRG4/HA5vNxtlQPdJ6UrTYWyxsDKl7sVWq0EXoaPbBCF0nEursoqm1WBGLxWhra4NGo+FEM6VQhLAi4ppFi4M1OzuLvLw8onTYJ3XBjohvPWmp2FuJhO8mj/QYPlT5LPV0bSmEKK7g9ixHDQF3wvx0dHTEHJGUQgHidERsXDOhT82ixTULjYNVWVlJHAsbU+z69es4fvw4CgoKOOqHL2oo8HPsrby8PBJ7KzgYI8MwaG5uhkwmu2dPeoKnVtGUCt/UK7gMW0ekeqI5ML5y0c61HIxGIzZv3kydEGVZrIi4ZtHiYIXGNXvllVdgsVg46mfr1q3o6OhAb28vZ6E6Wuwt4I5jtNvtnMCAd4tYb2whZflejAx94hXJIQU7tNB2Btsu1xnRhWpKXCRyp/7falyzb2Rroh4LsRGSH8kmlvRvZGsEtS+YhYWFwJtvvkkjs1CWzV15aiaU32pcM76XCGO1EZIfySaW9OUoopGREXi9Xt7pMYUihIRuFcu+szM1NYWPP/6Ys2BN+eVhsViwb98+AKCfJyUu6J7VFAol6dD/vqdQKEmHhhOiUChJh07NKBRK0qFTMwqFknSoI6JQKEnn33iZT+l7wZ4yAAAAAElFTkSuQmCC" alt="1555134919087"></p><h2 id="axios的请求合并以及参数配置" tabindex="-1"><a class="header-anchor" href="#axios的请求合并以及参数配置" aria-hidden="true">#</a> axios的请求合并以及参数配置</h2><h3 id="请求合并" tabindex="-1"><a class="header-anchor" href="#请求合并" aria-hidden="true">#</a> 请求合并</h3><p>A和B同时成功才进行下一步(请求合并)</p><ol><li>设置全局变量接收A的结果</li></ol><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;A&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">resultA</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;B&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">resultB</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">//=&gt; A和B都成功执行: RESULT-B是B成功后的结果</span>
    <span class="token comment">//=&gt; 全局RESULT是 A的结果</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>通过axios提供的all方法</li></ol><p>all源码</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>axios<span class="token punctuation">.</span><span class="token function-variable function">all</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">all</span><span class="token punctuation">(</span><span class="token parameter">promise</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>promise<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>all方法的使用:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// sendAry存放三个AJAX请求的PROMISE实例</span>
<span class="token keyword">let</span> sendAry <span class="token operator">=</span> <span class="token punctuation">[</span>
    axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;https://www.easy-mock.com/mock/5cb165067aab7f78650d2087/example/proxy&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;https://www.easy-mock.com/mock/5cb165067aab7f78650d2087/example/query&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&#39;https://www.easy-mock.com/mock/5cb165067aab7f78650d2087/example/add&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">//=&gt; 三个请求都完成才做一些事情(可以基于all方法实现)</span>
axios<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>sendAry<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//=&gt; 是一个数组, 分别存储每一个请求的结果</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/1555137088638-5d05d515.png" alt="1555137088638"></p><h3 id="分别操作-请求合并返回的数据" tabindex="-1"><a class="header-anchor" href="#分别操作-请求合并返回的数据" aria-hidden="true">#</a> 分别操作 请求合并返回的数据</h3><ol><li>已知返回的数据是一个数组, 可以利用解构进行拆分</li></ol><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> sendAry <span class="token operator">=</span> <span class="token punctuation">[</span>
    axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;https://www.easy-mock.com/mock/5cb165067aab7f78650d2087/example/proxy&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;https://www.easy-mock.com/mock/5cb165067aab7f78650d2087/example/query&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&#39;https://www.easy-mock.com/mock/5cb165067aab7f78650d2087/example/add&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
axios<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>sendAry<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> <span class="token punctuation">[</span>resA<span class="token punctuation">,</span> resB<span class="token punctuation">,</span> resC<span class="token punctuation">]</span> <span class="token operator">=</span> result<span class="token punctuation">;</span><span class="token comment">// 数组解构</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>axios提供了spread方法, 使用spread方法进行返回数据的操作</li></ol><p>spread方法源码</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">spread</span> <span class="token punctuation">(</span><span class="token parameter">callback</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token function">wrap</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">callback</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//使用</span>
<span class="token keyword">let</span> wrap <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">spread</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>使用:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>axios<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>sendAry<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>axios<span class="token punctuation">.</span><span class="token function">spread</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resA<span class="token punctuation">,</span> resB<span class="token punctuation">,</span> resC</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token comment">// RES-A/-B/-C分别代表三次请求的结果</span>
    <span class="token comment">// 原理是JS中的柯理化函数</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="参数配置" tabindex="-1"><a class="header-anchor" href="#参数配置" aria-hidden="true">#</a> 参数配置</h3><h4 id="尽量是公有的参数" tabindex="-1"><a class="header-anchor" href="#尽量是公有的参数" aria-hidden="true">#</a> 尽量是公有的参数</h4><ul><li><code>axios.defaults.baseURL</code>: 服务器不变的地址</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">//=&gt; 初始化一些常用的配置项</span>
axios<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span>baseURL <span class="token operator">=</span> <span class="token string">&#39;https://www.easy-mock.com/mock/5cb165067aab7f78650d2087/example&#39;</span><span class="token punctuation">;</span>
axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/proxy&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>axios.defaults.validateStatus</code>: 验证返回的状态码</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>axios<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span>baseURL <span class="token operator">=</span> <span class="token string">&#39;https://www.easy-mock.com/mock/5cb165067aab7f78650d2087/example&#39;</span><span class="token punctuation">;</span>
axios<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span><span class="token function-variable function">validateStatus</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">validateStatus</span><span class="token punctuation">(</span><span class="token parameter">status</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//=&gt; 自定义成功失败规则: RESOLVE / REJECT (默认规则: 状态码以2开头算作成功)</span>
    <span class="token keyword">return</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^(2|3)\d{2}$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 使用</span>
axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/proxy&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/1555145194938-8e80b4bd.png" alt="1555145194938"></p><p>如果把状态码4开头也算作成功, 错误报4开头的也算成功</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>axios<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span>baseURL <span class="token operator">=</span> <span class="token string">&#39;https://www.easy-mock.com/mock/5cb165067aab7f78650d2087/example&#39;</span><span class="token punctuation">,</span>
axios<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span><span class="token function-variable function">validateStatus</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">validateStatus</span><span class="token punctuation">(</span><span class="token parameter">status</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^(2|3|4)\d{2}$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/proxy2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/1555145141389-90a8355f.png" alt="1555145141389"></p><h4 id="尽量是私有的参数" tabindex="-1"><a class="header-anchor" href="#尽量是私有的参数" aria-hidden="true">#</a> 尽量是私有的参数</h4><ul><li><code>axios.defaults.timeout</code>: 设置超时时间 (设置为私有因为每个请求的时间不一样,要分别设置超时时间)</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>axios<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span>timeout <span class="token operator">=</span> <span class="token number">5000</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><code>axios.defaults.headers</code>: 设置自定义请求头 (最好不要把每个请求的请求头传递数据都是一样的)</li></ul><p>result中的headers是响应头信息</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>axios<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span>baseURL <span class="token operator">=</span> <span class="token string">&#39;https://www.easy-mock.com/mock/5cb165067aab7f78650d2087/example&#39;</span>
axios<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span>headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token comment">//=&gt; 自定义请求头</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;iiicici&#39;</span>
<span class="token punctuation">}</span>
axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/proxy&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/1555145956246-6ee81772.png" alt="1555145956246"></p><ul><li><code>axios.defaults.params</code>: GET传参(最好不要把每个请求的请求头传递数据都是一样的)</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>axios<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span>params<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>GET私有传递参数:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>axios<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span>baseURL<span class="token operator">=</span><span class="token string">&#39;https://www.easy-mock.com/mock/5cb165067aab7f78650d2087/example&#39;</span><span class="token punctuation">;</span>
axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/proxy&#39;</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
    <span class="token literal-property property">params</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&#39;iiicici&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">headers</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token literal-property property">xxx</span><span class="token operator">:</span><span class="token string">&#39;xxx&#39;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/1555165070789-4323deaf.png" alt="1555165070789"></p><p><img src="/assets/1555165211715-7074351f.png" alt="1555165211715"></p><ul><li><code>axios.defaults.data</code>: POST传参(最好不要把每个请求的请求头传递数据都是一样的)</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>axios.defaults.data={}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>POST私有传递参数:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// POST发起请求顺便传递参数</span>
axios<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span>baseURL<span class="token operator">=</span><span class="token string">&#39;https://www.easy-mock.com/mock/5cb165067aab7f78650d2087/example&#39;</span><span class="token punctuation">;</span>
axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&#39;/mock&#39;</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token comment">//=&gt; POST传参</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&#39;iiicici&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
    <span class="token literal-property property">headers</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token comment">//=&gt; 设置配置信息, 设置headers信息</span>
        <span class="token literal-property property">xxx</span><span class="token operator">:</span><span class="token string">&#39;xxx&#39;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/1555164607472-0e1b7273.png" alt="1555164607472"></p><p><img src="/assets/1555165256423-b320ad03.png" alt="1555165256423"></p><ul><li><code>axios.defaults.headers[&#39;Content-Type&#39;] </code>: 设置在请求中基于请求主体向服务器发送内容的格式, 默认是RAW, 项目中常用的是URL-ENCODED格式</li></ul><p><code>axios.defaults.transformRequest</code>: 设置请求数据为urlencoded格式</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>axios<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span>baseURL<span class="token operator">=</span><span class="token string">&#39;https://www.easy-mock.com/mock/5cb165067aab7f78650d2087/example&#39;</span><span class="token punctuation">;</span>
<span class="token comment">//设置请求头中Content-Type</span>
axios<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">&#39;Content-Type&#39;</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">&#39;application/x-www-form-urlencoded&#39;</span><span class="token punctuation">;</span>
<span class="token comment">//设置请求的数据为urlencoded格式</span>
axios<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span><span class="token function-variable function">transformRequest</span> <span class="token operator">=</span> <span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">//=&gt; data: 就是请求主体中需要传递给服务器的内容</span>
    <span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> attr <span class="token keyword">in</span> data<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>attr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            str <span class="token operator">+=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>attr<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>data<span class="token punctuation">[</span>attr<span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&amp;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    str <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> str<span class="token punctuation">.</span>length<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> str<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
axios<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>response<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token parameter">error</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&#39;/mock&#39;</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
    <span class="token literal-property property">lx</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
    <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>未改变之前: 是RAW, 也就是JSON格式的字符串</p><p><img src="/assets/1555253342949-df9ef80c.png" alt="1555253342949"></p><p>改变之后: 手动设置为urlencoded格式</p><p><img src="/assets/1555253036785-302c9353.png" alt="1555253036785"></p><ul><li><code>axios.interceptors.response.use(function success(result){},function error(err){})</code></li></ul><p>设置响应拦截器: 分别在响应成功和失败的时候做一些拦截处理(在执行成功后设定的方法之前, 先会执行拦截器中的方法)</p><ol><li>下面的成功执行内的参数是响应拦截器的返回值.如果没有返回值, 则参数是undefined</li></ol><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>axios<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span>baseURL<span class="token operator">=</span><span class="token string">&#39;https://www.easy-mock.com/mock/5cb165067aab7f78650d2087/example&#39;</span><span class="token punctuation">;</span>
axios<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>response<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">success</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 没有返回值, 下面的成功执行的参数是函数的返回值.如果没有返回值, 则参数是undefined</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token function">error</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/proxy&#39;</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
    <span class="token literal-property property">params</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&#39;iiicici&#39;</span>
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/1555243186903-a3e9cc96.png" alt="1555243186903"></p><ol start="2"><li>如果响应拦截器直接是返回的result中的data, 也就是 响应主体内容. 那么执行成功中的参数全是响应主体.</li></ol><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">//项目中常用的两个</span>
axios<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span>baseURL<span class="token operator">=</span><span class="token string">&#39;https://www.easy-mock.com/mock/5cb165067aab7f78650d2087/example&#39;</span><span class="token punctuation">;</span>
axios<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>response<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> result<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/proxy&#39;</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
    <span class="token literal-property property">params</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&#39;iiicici&#39;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/1555243922167-c5bca28d.png" alt="1555243922167"></p><h4 id="常用的参数配置" tabindex="-1"><a class="header-anchor" href="#常用的参数配置" aria-hidden="true">#</a> 常用的参数配置</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>axios<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span>baseURL<span class="token operator">=</span><span class="token string">&#39;...&#39;</span><span class="token punctuation">;</span>
axios<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>reponse<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> result<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
axios<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span><span class="token function-variable function">validateStatus</span> <span class="token operator">=</span> <span class="token parameter">status</span> <span class="token operator">=&gt;</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^(2|3)\d{2}$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 默认是只以2开头的算是成功</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="fetch中的基础语法" tabindex="-1"><a class="header-anchor" href="#fetch中的基础语法" aria-hidden="true">#</a> FETCH中的基础语法</h1><h2 id="基础语法" tabindex="-1"><a class="header-anchor" href="#基础语法" aria-hidden="true">#</a> 基础语法</h2><p>FETCH不是AJAX, 它诞生的目的是为了代替AJAX, 它是JS中内置的API: 基于FETCH可以实现客户端和服务器端的信息通信</p><ol><li>FETCH是ES2018规范中新增的API, 所以浏览器的支持度不是特别好(可以基于BABEL的最新语法解析包, 把其进行解析, 最后还是解析成AJAX), 想要兼容性好一些, 需要使用<code>fetch polyfill</code></li><li>使用FETCH发送请求</li></ol><p>GET/HEAD等请求不能设置BODY, 只能在地址问号传参传递数据</p><p>不管服务器返回的状态是多少, FETCH都不认为是失败(哪怕是4或者5开头的状态码), 都执行的是THEN方法(需要我们自己进行异常抛出处理)</p><ul><li>get发送请求成功</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&#39;https://www.easy-mock.com/mock/5cb165067aab7f78650d2087/example/proxy&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&#39;GET&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">//=&gt; 设置请求头</span>
        <span class="token string-property property">&#39;Content-Type&#39;</span><span class="token operator">:</span> <span class="token string">&#39;x-www-form-urlencoded&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">credentials</span><span class="token operator">:</span> <span class="token string">&#39;include&#39;</span><span class="token comment">//=&gt; 不管同源还是跨域请求都带着COOKIE信息</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">/* 
            headers:{} 包含响应头信息
            redirected: false 是否重定向
            status: 状态码
            statusText: 状态码描述
            type: 类型 跨域还是不跨域
            	arrayBuffer()
                blob()
                json()
                text()
                ...
                基于这些方法可以快速的把从服务器获取的结果找到
             */</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>请求easy-mock地址</p><p><img src="/assets/1555311488021-299714e9.png" alt="1555311488021"></p><p><img src="/assets/1555311908924-9132fbaf.png" alt="1555311908924"></p><p>请求本地的1.json</p><p><img src="/assets/1555311528964-f1d0fe58.png" alt="1555311528964"></p><ul><li>get发送请求失败</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&#39;https://www.easy-mock.com/mock/5cb165067aab7f78650d2087/example/proxy2&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&#39;GET&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&#39;Content-Type&#39;</span><span class="token operator">:</span> <span class="token string">&#39;x-www-form-urlencoded&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">credentials</span><span class="token operator">:</span> <span class="token string">&#39;include&#39;</span><span class="token comment">//=&gt; 不管同源还是跨域请求都带着COOKIE信息</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/1555312025055-376230bf.png" alt="1555312025055"></p><ul><li>post请求</li></ul><p>传递参数只能在body中设置字符串, 不能设置对象形式的参数</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&#39;https://www.easy-mock.com/mock/5cb165067aab7f78650d2087/example/mock&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&#39;post&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">body</span><span class="token operator">:</span> <span class="token string">&quot;name=iiicic&amp;age=1&quot;</span><span class="token comment">//=&gt; body中只支持字符串(GET请求还无法设置body,只能在地址中设置参数)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> <span class="token punctuation">{</span> status <span class="token punctuation">}</span> <span class="token operator">=</span> result<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^(4|5)\d{2}$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>status<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;query data is error!&#39;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> result<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">msg</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="实际用法-1" tabindex="-1"><a class="header-anchor" href="#实际用法-1" aria-hidden="true">#</a> 实际用法</h2><p>因为不论是请求成功还是失败都执行then, 所以要自己获取状态码进行判断.</p><ul><li>请求错误</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&#39;https://www.easy-mock.com/mock/5cb165067aab7f78650d2087/example/proxy2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token comment">// 把状态码解构出来</span>
    <span class="token keyword">let</span> <span class="token punctuation">{</span>status<span class="token punctuation">}</span> <span class="token operator">=</span> result<span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^(4|5)\d{2}$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>status<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;query data is error!&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> result<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 如果成功的话走then, 如果抛出异常的话走catch</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">msg</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/1555312882240-c28fba19.png" alt="1555312882240"></p><ul><li>请求成功</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&#39;https://www.easy-mock.com/mock/5cb165067aab7f78650d2087/example/proxy&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> <span class="token punctuation">{</span>status<span class="token punctuation">}</span> <span class="token operator">=</span> result<span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^(4|5)\d{2}$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>status<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;query data is error!&#39;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> retult<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">msg</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/1555313028160-fbbca757.png" alt="1555313028160"></p><h1 id="基于promise封装属于自己的ajax库" tabindex="-1"><a class="header-anchor" href="#基于promise封装属于自己的ajax库" aria-hidden="true">#</a> 基于PROMISE封装属于自己的AJAX库</h1><h1 id="京东投票" tabindex="-1"><a class="header-anchor" href="#京东投票" aria-hidden="true">#</a> [京东投票]</h1><h2 id="项目概述" tabindex="-1"><a class="header-anchor" href="#项目概述" aria-hidden="true">#</a> 项目概述</h2><ol><li>打开项目</li></ol><p><code>$ yarn install / $ npm install</code>: 跑环境(把项目依赖的插件进行安装) <code>$ node admin.js</code>: 启服务(把自己的计算机作为服务器,)</p><ol start="2"><li>API.TXT: API接口文档</li></ol><p>真实项目中, 后台开发人员会给前端开发人员提供一个技术文档(接口文档), 文档中描述了前端需要调取后台的某些接口实现的某些功能, 并且标注了请求的地址、请求方式、传递给服务器的内容、以及服务器返回的结果等信息</p><p>这就是前后端分离： 前端开发这不需要考虑后台是基于什么技术怎么实现的， 我们只需要按照API文档中提供的信息， 去发送请求传递内容即可，这样就可以获取我们需要的数据（API文档就是约束前端和后台的规范文档）</p><h2 id="跑通数据获取的逻辑" tabindex="-1"><a class="header-anchor" href="#跑通数据获取的逻辑" aria-hidden="true">#</a> 跑通数据获取的逻辑</h2><h3 id="面试题" tabindex="-1"><a class="header-anchor" href="#面试题" aria-hidden="true">#</a> 面试题</h3><blockquote><p>有一万条数据, 想让其绑定到页面中, 怎么做好一些?</p></blockquote><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>1. 文档碎片: 遍历数据, 把对应的数据和结构都添加到文档碎片中, 在把文档碎片插入到页面中(优势: 减少了DOM的回流 =&gt; 基于字符串拼接也可以)
2. 虚拟DOM: 类似于REACT框架, 基于虚拟DOM以及DIFF算法, 也可以优化数据绑定
3. 其实从本质来讲怎么做都不是最好的, 我们不应该出现1万条这种大数据量的绑定
	因为
	从服务器获取1万条消耗很多时间
	页面渲染1万条也会消耗很多时间
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="异步数据加载-分页加载" tabindex="-1"><a class="header-anchor" href="#异步数据加载-分页加载" aria-hidden="true">#</a> 异步数据加载(分页加载)</h4><p>[需要服务器端做支持]</p><ol><li>客户端向服务器端发送一个GET请求, 传递给服务器: 每页展示的条数, 当前要展示的页数等信息, 例如传递的是 ?limit=20&amp;page=1(每页展示20条, 当前展示第一页)</li><li>服务器接收到请求后, 在所有的数据中把 第一页的20条数据 返回给客户端</li><li>当用户下拉加载更多或者点击第二页等页码按钮等时候, 重复第一步, 把对应要展示的页码传递给服务器, 服务器返回对应页码中的数据</li><li>...</li></ol><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> matchRender <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">$</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> $userList <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&#39;.userList&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        $wrapper <span class="token operator">=</span> $userList<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">&#39;ul&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        $tip <span class="token operator">=</span> $userList<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">&#39;.tip&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        $headerBox <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&#39;.headerBox&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        $searchBtn <span class="token operator">=</span> $headerBox<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">&#39;.searchBtn&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


    <span class="token keyword">let</span> limit <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span><span class="token comment">//=&gt; 每页展示的数量</span>
        page <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token comment">//=&gt; 当前是第几页</span>
        pageNum <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token comment">//=&gt; 总页数</span>
        total <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token comment">//=&gt; 总条数</span>
        search <span class="token operator">=</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span><span class="token comment">//=&gt; 搜索的内容</span>
        isRun <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token comment">//是否正在加载最新的数据</span>

    <span class="token comment">//=&gt; QUERY-DATA:获取数据</span>
    <span class="token keyword">let</span> <span class="token function-variable function">queryData</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">queryData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/getMathchList&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                limit<span class="token punctuation">,</span>
                page<span class="token punctuation">,</span>
                search
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            pageNum <span class="token operator">=</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span>result<span class="token punctuation">[</span><span class="token string">&#39;pageNum&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            total <span class="token operator">=</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span>result<span class="token punctuation">[</span><span class="token string">&#39;total&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> result<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>bindHTML<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//=&gt; BIND-HTML:数据绑定</span>
    <span class="token keyword">let</span> <span class="token function-variable function">bindHTML</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">bindHTML</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> <span class="token punctuation">{</span> code<span class="token punctuation">,</span> list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span> <span class="token operator">=</span> result<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">parseFloat</span><span class="token punctuation">(</span>code<span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">//=&gt; 获取数据失败:这个失败不是服务器返回失败,而是获取的数据不是我们最终想要的而已,非状态码的失败</span>
            $wrapper<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">&#39;display&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;none&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            $tip<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">&#39;display&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;block&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            isRun <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//=&gt; 成功绑定数据</span>
        $wrapper<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">&#39;display&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;block&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        $tip<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">&#39;display&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;none&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> $frg <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">createDocumentFragment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        list<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> <span class="token punctuation">{</span> id<span class="token punctuation">,</span> name<span class="token punctuation">,</span> picture<span class="token punctuation">,</span> sex<span class="token punctuation">,</span> matchId<span class="token punctuation">,</span> slogan<span class="token punctuation">,</span> voteNum<span class="token punctuation">,</span> isVote <span class="token punctuation">}</span> <span class="token operator">=</span> item<span class="token punctuation">;</span>
            <span class="token comment">/* 从列表点击跳转到详情页面:我们把用户的ID通过问号传递参数的方式传递给详情页面(?userId=xxx),到详情页面我们只需要获取到这个ID,然后根据传递ID不同展示不同的信息即可 */</span>
            $frg<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;li&gt;
                &lt;a href=&quot;detail.html?userId=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot;&gt;
                    &lt;img src=&quot;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>picture<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot; alt=&quot;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot; class=&quot;picture&quot;&gt;
                    &lt;p class=&quot;title&quot;&gt;
                        &lt;span&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/span&gt;
                        |
                        &lt;span&gt;编号 #</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>matchId<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/span&gt;
                    &lt;/p&gt;
                    &lt;p class=&quot;slogan&quot;&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>slogan<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/p&gt;
                &lt;/a&gt;
                &lt;div class=&quot;vote&quot;&gt;
                    &lt;span class=&quot;voteNum&quot;&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>voteNum<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/span&gt;
                    </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">parseFloat</span><span class="token punctuation">(</span>isVote<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;a href=&quot;javascript:;&quot; class=&quot;voteBtn&quot;&gt;投他一票&lt;/a&gt;</span><span class="token template-punctuation string">`</span></span> <span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token template-punctuation string">`</span></span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">
                &lt;/div&gt;
            &lt;/li&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        $wrapper<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>$frg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        $frg <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

        <span class="token comment">//=&gt;最新数据加载完成</span>
        isRun <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">init</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">//=&gt; 开始展示第一页的内容</span>
            <span class="token function">queryData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//=&gt; 下拉加载更多数据</span>
            <span class="token function">$</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;scroll&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">let</span> <span class="token punctuation">{</span>
                    clientHeight<span class="token punctuation">,</span>
                    scrollTop<span class="token punctuation">,</span>
                    scrollHeight
                <span class="token punctuation">}</span> <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">;</span>

                <span class="token keyword">if</span> <span class="token punctuation">(</span>clientHeight <span class="token operator">+</span> scrollTop <span class="token operator">+</span> <span class="token number">200</span> <span class="token operator">&gt;=</span> scrollHeight<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token comment">//页面即将到达底部:加载更多数据</span>
                    <span class="token comment">//=&gt;正在加载中是不允许加载新数据的</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>isRun<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span><span class="token comment">//=&gt;如果isRun已经为true了,就跳出判断,不进行数据加载</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>page <span class="token operator">&gt;=</span> pageNum<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
                    isRun <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
                    page<span class="token operator">++</span><span class="token punctuation">;</span>
                    <span class="token function">queryData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>

            <span class="token comment">//=&gt; 点击搜索</span>
            $searchBtn<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>isRun<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
                isRun <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
                search <span class="token operator">=</span> $searchBtn<span class="token punctuation">.</span><span class="token function">prev</span><span class="token punctuation">(</span><span class="token string">&#39;input&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">//=&gt; 还要把之前ul中的内容清空,然后展示最新搜索的信息即可</span>
                $wrapper<span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                page <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
                <span class="token function">queryData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>Zepto<span class="token punctuation">)</span><span class="token punctuation">;</span>
matchRender<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="首页数据的下拉加载和搜索" tabindex="-1"><a class="header-anchor" href="#首页数据的下拉加载和搜索" aria-hidden="true">#</a> 首页数据的下拉加载和搜索</h2><h3 id="eventtarget-addeventlistener" tabindex="-1"><a class="header-anchor" href="#eventtarget-addeventlistener" aria-hidden="true">#</a> EventTarget.addEventListener()</h3><blockquote><p>方法将指定的监听器注册到 <code>EventTarget</code>上，当该对象触发指定的事件时，指定的回调函数就会被执行。 事件目标可以是一个文档上的元素 <code>Element</code>,<code>Document</code>和<code>Window</code>或者任何其他支持事件的对象 (比如 <code>XMLHttpRequest</code>)。</p></blockquote><blockquote><p><code>addEventListener()</code>的工作原理是将实现<code>EventListener</code>的函数或对象添加到调用它的<code>EventTarget</code>上的指定事件类型的事件侦听器列表中。</p></blockquote><ul><li>语法</li></ul><p><code>target.addEventListener(type, listener[, options]);</code><code>target.addEventListener(type, listener[, useCapture]);</code><code>target.addEventListener(type, listener[, useCapture, wantsUntrusted]); </code></p><p>参数:</p><p>type: 表示监听事件类型的字符串。</p><p>listener: 当所监听的事件类型触发时，会接收到一个事件通知（实现了 <code>Event</code> 接口的对象）对象。listener 必须是一个实现了 EventListener接口的对象，或者是一个函数。</p><p>options (可选):一个指定有关 <code>listener </code>属性的可选参数<strong>对象</strong>。可用的选项如下：</p><ul><li><p><code>capture</code>: Boolean，表示 <code>listener</code> 会在该类型的事件捕获阶段传播到该 <code>EventTarget</code> 时触发。</p></li><li><p><code>once</code>: Boolean，表示 listener 在添加之后最多只调用一次。如果是true，listener会在其被调用之后自动移除。</p></li><li><p><code>passive</code>: Boolean，设置为true时，表示 <code>listener</code> 永远不会调用 preventDefault()。如果 listener 仍然调用了这个函数，客户端将会忽略它并抛出一个控制台警告。</p></li><li><p><code>mozSystemGroup</code>: 只能在 XBL 或者是 Firefox&#39; chrome 使用，这是个 Boolean，表示 <code>listener </code>被添加到 system group。</p></li><li><p><code>useCapture</code> 可选</p><p><code>Boolean</code>，在DOM树中，注册了listener的元素， 是否要先于它下面的EventTarget，调用该listener。 当userCapture(设为true) 时，沿着DOM树向上冒泡的事件，不会触发listener。当一个元素嵌套了另一个元素，并且两个元素都对同一事件注册了一个处理函数时，所发生的事件冒泡和事件捕获是两种不同的事件传播方式。事件传播模式决定了元素以哪个顺序接收事件。进一步的解释可以查看 事件流 及 JavaScript Event order文档。 如果没有指定， <code>useCapture</code> 默认为 false 。</p></li></ul><p><strong>注意:</strong> 对于事件目标上的事件监听器来说，事件会处于“目标阶段”，而不是冒泡阶段或者捕获阶段。在目标阶段的事件会触发该元素（即事件目标）上的所有监听器，而不在乎这个监听器到底在注册时<code>useCapture</code> 参数值是true还是false。</p><p><strong>注意:</strong> <code>useCapture</code> 仅仅在现代浏览器最近的几个版本中是可选的。 例如 Firefox 6以前的版本都不是可选的。为了能够提供更广泛的支持，你应该提供这个参数。</p><p>wantsUntrusted:如果为 <code>true </code>, 则事件处理程序会接收网页自定义的事件。此参数只适用于 Gecko（chrome的默认值为true，其他常规网页的默认值为false），主要用于附加组件的代码和浏览器本身。</p><p>返回值</p><p><code>undefined</code>.</p><h3 id="下拉加载" tabindex="-1"><a class="header-anchor" href="#下拉加载" aria-hidden="true">#</a> 下拉加载</h3><p><img src="/assets/1557892741455-fc558f1c.png" alt="1557892741455"></p><p><code>scrollTop + clientHeight + 200 &gt;= scrollHeight</code></p><p>逻辑:</p><p>一屏幕的高度加上卷上去的高度如果快达到页面真实高度就要加载数据</p><p>在上一页数据没加载完之前,下一页加载数据不会触发</p><p>在所有数据加载完成之后,最后一次下拉数据不会触发加载数据请求</p><p>代码:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> matchRender <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">$</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> limit <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span><span class="token comment">//=&gt; 每页展示的数量</span>
        page <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token comment">//=&gt; 当前是第几页</span>
        pageNum <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token comment">//=&gt; 总页数</span>
        total <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token comment">//=&gt; 总条数</span>
        search <span class="token operator">=</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span><span class="token comment">//=&gt; 搜索的内容</span>
        isRun <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token comment">//是否正在加载最新的数据</span>

    <span class="token comment">//=&gt; QUERY-DATA:获取数据</span>
    <span class="token keyword">let</span> <span class="token function-variable function">queryData</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">queryData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/getMathchList&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                limit<span class="token punctuation">,</span>
                page<span class="token punctuation">,</span>
                search
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            pageNum <span class="token operator">=</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span>result<span class="token punctuation">[</span><span class="token string">&#39;pageNum&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            total <span class="token operator">=</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span>result<span class="token punctuation">[</span><span class="token string">&#39;total&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> result<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>bindHTML<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//=&gt; BIND-HTML:数据绑定</span>
    <span class="token keyword">let</span> <span class="token function-variable function">bindHTML</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">bindHTML</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> <span class="token punctuation">{</span> code<span class="token punctuation">,</span> list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span> <span class="token operator">=</span> result<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">parseFloat</span><span class="token punctuation">(</span>code<span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token punctuation">}</span>
        <span class="token comment">//=&gt; 成功绑定数据</span>
        $wrapper<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">&#39;display&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;block&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        $tip<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">&#39;display&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;none&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> $frg <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">createDocumentFragment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        list<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        $wrapper<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>$frg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        $frg <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

        <span class="token comment">//=&gt;最新数据加载完成</span>
        isRun <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">init</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">//=&gt; 开始展示第一页的内容</span>
            <span class="token function">queryData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//=&gt; 下拉加载更多数据</span>
            <span class="token function">$</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;scroll&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">let</span> <span class="token punctuation">{</span>
                    clientHeight<span class="token punctuation">,</span>
                    scrollTop<span class="token punctuation">,</span>
                    scrollHeight
                <span class="token punctuation">}</span> <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">;</span>

                <span class="token keyword">if</span> <span class="token punctuation">(</span>clientHeight <span class="token operator">+</span> scrollTop <span class="token operator">+</span> <span class="token number">200</span> <span class="token operator">&gt;=</span> scrollHeight<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token comment">//页面即将到达底部:加载更多数据</span>
                    <span class="token comment">//=&gt;正在加载中是不允许加载新数据的</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>isRun<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span><span class="token comment">//=&gt;如果isRun已经为true了,就跳出判断,不进行数据加载</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>page <span class="token operator">&gt;=</span> pageNum<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
                    isRun <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
                    page<span class="token operator">++</span><span class="token punctuation">;</span>
                    <span class="token function">queryData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>Zepto<span class="token punctuation">)</span><span class="token punctuation">;</span>
matchRender<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="搜索" tabindex="-1"><a class="header-anchor" href="#搜索" aria-hidden="true">#</a> 搜索</h3><ul><li>逻辑</li></ul><blockquote><p>点击搜索</p><p>获取输入框中的搜索内容</p><p>想服务器传输搜索内容的请求</p><p>需要把原来展示的内容数据清空,否则搜索返回的数据会追加到原来的数据之后</p><p>把返回的数据绑定到ul标签下</p><p>当搜索没有完成的时候,再次点击搜索按钮是不会重复发起请求的</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> matchRender <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">$</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> $userList <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&#39;.userList&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        $wrapper <span class="token operator">=</span> $userList<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">&#39;ul&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        $tip <span class="token operator">=</span> $userList<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">&#39;.tip&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        $headerBox <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&#39;.headerBox&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        $searchBtn <span class="token operator">=</span> $headerBox<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">&#39;.searchBtn&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


    <span class="token keyword">let</span> limit <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span><span class="token comment">//=&gt; 每页展示的数量</span>
        page <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token comment">//=&gt; 当前是第几页</span>
        pageNum <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token comment">//=&gt; 总页数</span>
        total <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token comment">//=&gt; 总条数</span>
        search <span class="token operator">=</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span><span class="token comment">//=&gt; 搜索的内容</span>
        isRun <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token comment">//是否正在加载最新的数据</span>

    <span class="token comment">//=&gt; QUERY-DATA:获取数据</span>
    <span class="token keyword">let</span> <span class="token function-variable function">queryData</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">queryData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/getMathchList&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                limit<span class="token punctuation">,</span>
                page<span class="token punctuation">,</span>
                search
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            pageNum <span class="token operator">=</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span>result<span class="token punctuation">[</span><span class="token string">&#39;pageNum&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            total <span class="token operator">=</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span>result<span class="token punctuation">[</span><span class="token string">&#39;total&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> result<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>bindHTML<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//=&gt; BIND-HTML:数据绑定</span>
    <span class="token keyword">let</span> <span class="token function-variable function">bindHTML</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">bindHTML</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> <span class="token punctuation">{</span> code<span class="token punctuation">,</span> list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span> <span class="token operator">=</span> result<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">parseFloat</span><span class="token punctuation">(</span>code<span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token punctuation">}</span>
        <span class="token comment">//=&gt; 成功绑定数据</span>
        $wrapper<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">&#39;display&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;block&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        $tip<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">&#39;display&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;none&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> $frg <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">createDocumentFragment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        list<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        $wrapper<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>$frg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        $frg <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

        <span class="token comment">//=&gt;最新数据加载完成</span>
        isRun <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">init</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">//=&gt; 开始展示第一页的内容</span>
            <span class="token function">queryData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//=&gt; 下拉加载更多数据</span>
            <span class="token function">$</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;scroll&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">let</span> <span class="token punctuation">{</span>
                    clientHeight<span class="token punctuation">,</span>
                    scrollTop<span class="token punctuation">,</span>
                    scrollHeight
                <span class="token punctuation">}</span> <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">;</span>

                <span class="token keyword">if</span> <span class="token punctuation">(</span>clientHeight <span class="token operator">+</span> scrollTop <span class="token operator">+</span> <span class="token number">200</span> <span class="token operator">&gt;=</span> scrollHeight<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token comment">//页面即将到达底部:加载更多数据</span>
                    <span class="token comment">//=&gt;正在加载中是不允许加载新数据的</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>isRun<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span><span class="token comment">//=&gt;如果isRun已经为true了,就跳出判断,不进行数据加载</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>page <span class="token operator">&gt;=</span> pageNum<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
                    isRun <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
                    page<span class="token operator">++</span><span class="token punctuation">;</span>
                    <span class="token function">queryData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>

            <span class="token comment">//=&gt; 点击搜索</span>
            <span class="token comment">/* 
            点击按钮触发函数
            获取输入框中的内容
            开始执行搜索
            如果开始执行搜索,再搜索出结果之前,再点击搜索不可用
            此时搜索出的结果放到了展示数据的后面,需要把展示数据清空,把搜索出的结果重新绑定到ul下
            */</span>
            
            $searchBtn<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>isRun<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
                isRun <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
                search <span class="token operator">=</span> $searchBtn<span class="token punctuation">.</span><span class="token function">prev</span><span class="token punctuation">(</span><span class="token string">&#39;input&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">//=&gt; 还要把之前ul中的内容清空,然后展示最新搜索的信息即可</span>
                $wrapper<span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                page <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
                <span class="token function">queryData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>Zepto<span class="token punctuation">)</span><span class="token punctuation">;</span>
matchRender<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="导航插件的构建" tabindex="-1"><a class="header-anchor" href="#导航插件的构建" aria-hidden="true">#</a> 导航插件的构建</h2><h2 id="登录页面" tabindex="-1"><a class="header-anchor" href="#登录页面" aria-hidden="true">#</a> 登录页面</h2><h2 id="token的意义和用法" tabindex="-1"><a class="header-anchor" href="#token的意义和用法" aria-hidden="true">#</a> token的意义和用法</h2><h3 id="uuid库生成token值" tabindex="-1"><a class="header-anchor" href="#uuid库生成token值" aria-hidden="true">#</a> uuid库生成token值</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> guid <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;uuid/v4&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

token<span class="token operator">=</span><span class="token function">guid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\-</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="token的来源" tabindex="-1"><a class="header-anchor" href="#token的来源" aria-hidden="true">#</a> token的来源</h3><p>当客户端多次向服务器端请求数据时, 服务器就需要多次从数据库中查询用户名和密码并进行对比, 判断用户名和密码是否正确, 并作出相应提示. 但这样无疑会增加服务器端的运行压力, 是否可以有一种方式只需要验证用户就是之前的用户而不需要每次在客户端请求数据时都需要查询数据库判断用户名和密码是否正确. 在这种请求下, 引入了token来解决服务器端多次访问数据库问题.</p><ul><li><p>什么是Token? Token是服务器端生成的一串字符串, 作为客户端进行请求时辨别客户身份的一个个令牌. 当用户第一次登录后, 服务器生成一个token便将此token返回给客户端, 以后客户端只需带上这个token前来请求数据即可, 无需再次带上用户名和密码.</p></li><li><p>使用Token的目的 Token的目的是为了验证用户登录情况以及减轻服务器的压力, 减少频繁的查询数据库, 使服务器更加健壮.</p></li></ul><h3 id="token的运用流程" tabindex="-1"><a class="header-anchor" href="#token的运用流程" aria-hidden="true">#</a> Token的运用流程</h3><ol><li>当用户首次登录成功之后, 服务器端就会生成一个token值, 这个值,会在服务器保存token值(保存在数据库中),再将这个token值返回给客户端.</li><li>客户端拿到token值之后, 进行保存(保存位置由服务器端设置).</li><li>以后客户端再次发送网络请求(一般不是登录请求)的时候, 就会将这个token值附带到参数中发送给服务器.</li><li>服务器接收到客户端的请求之后, 会取出token值与保存在本地(数据库)中的token值进行比较.</li><li>如果两个token值相同, 说明用户登录成功过! 当前用户处于登录状态.</li><li>如果没有这个token值, 没有登录成功.</li><li>如果token值不同: 说明原来的登录信息已经失效, 让用户重新登录.</li><li>Django Rest framework中JWT的使用稍有差异,这里不做详细说明.</li></ol></div></div><footer class="page-meta"><div class="meta-item edit-link"><span class="xicon-container left meta-item-label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:20px;height:20px;font-size:20px;color:inherit;"><path d="M2 26h28v2H2z" fill="currentColor"></path><path d="M25.4 9c.8-.8.8-2 0-2.8l-3.6-3.6c-.8-.8-2-.8-2.8 0l-15 15V24h6.4l15-15zm-5-5L24 7.6l-3 3L17.4 7l3-3zM6 22v-3.6l10-10l3.6 3.6l-10 10H6z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Edit this page<!--]--></span></span></div><div class="meta-item last-updated"><span class="xicon-container left meta-item-label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:20px;height:20px;font-size:20px;color:inherit;"><path d="M26 4h-4V2h-2v2h-8V2h-2v2H6c-1.1 0-2 .9-2 2v20c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 22H6V12h20v14zm0-16H6V6h4v2h2V6h8v2h2V6h4v4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Last Updated 11/26/2022, 11:46:02 AM<!--]--></span></span></div></footer><nav class="page-nav"><p class="hasPrev hasNext inner"><span class="page-nav-item prev"> ← AJAX</span><span class="page-nav-item next">DOM盒子模型 → </span></p></nav><div class="reco-valine-wrapper" style="display:block;"><div id="valine"></div></div></main><!--]--><div class="page-catalog-container"><h5 class="tip">ON THIS PAGE</h5><ul><!--[--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/other/AXIOS/#axios的基础语法" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="axios的基础语法"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->axios的基础语法<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/other/AXIOS/#向服务器发起请求" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="向服务器发起请求"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->向服务器发起请求<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/other/AXIOS/#发送数据之后获取服务端返回的数据" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="发送数据之后获取服务端返回的数据"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->发送数据之后获取服务端返回的数据<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/other/AXIOS/#实际用法" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="实际用法"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->实际用法<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/other/AXIOS/#axios的请求合并以及参数配置" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="axios的请求合并以及参数配置"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->axios的请求合并以及参数配置<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/other/AXIOS/#请求合并" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="请求合并"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->请求合并<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/other/AXIOS/#分别操作-请求合并返回的数据" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="分别操作 请求合并返回的数据"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->分别操作 请求合并返回的数据<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/other/AXIOS/#参数配置" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="参数配置"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->参数配置<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/other/AXIOS/#基础语法" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="基础语法"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->基础语法<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/other/AXIOS/#实际用法-1" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="实际用法"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->实际用法<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/other/AXIOS/#项目概述" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="项目概述"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->项目概述<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/other/AXIOS/#跑通数据获取的逻辑" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="跑通数据获取的逻辑"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->跑通数据获取的逻辑<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/other/AXIOS/#面试题" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="面试题"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->面试题<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/other/AXIOS/#首页数据的下拉加载和搜索" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="首页数据的下拉加载和搜索"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->首页数据的下拉加载和搜索<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/other/AXIOS/#eventtarget-addeventlistener" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="EventTarget.addEventListener()"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->EventTarget.addEventListener()<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/other/AXIOS/#下拉加载" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="下拉加载"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->下拉加载<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/other/AXIOS/#搜索" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="搜索"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->搜索<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/other/AXIOS/#导航插件的构建" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="导航插件的构建"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->导航插件的构建<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/other/AXIOS/#登录页面" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="登录页面"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->登录页面<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/other/AXIOS/#token的意义和用法" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="token的意义和用法"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->token的意义和用法<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/other/AXIOS/#uuid库生成token值" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="uuid库生成token值"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->uuid库生成token值<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/other/AXIOS/#token的来源" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="token的来源"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->token的来源<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/other/AXIOS/#token的运用流程" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="Token的运用流程"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Token的运用流程<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--]--></ul></div></div></div></div><!----><!----><!--]--></div>
    <script type="module" src="/assets/app-0d93b783.js" defer></script>
  </body>
</html>
